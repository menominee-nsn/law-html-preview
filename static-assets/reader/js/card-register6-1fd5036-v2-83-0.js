"use strict";(self.webpackChunkpartner_us_nsn_menominee_legislature=self.webpackChunkpartner_us_nsn_menominee_legislature||[]).push([[220],{1825(e,t,r){r.d(t,{Ay:()=>n});r(1097),r(3636);var a=function(e){return/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(e)};const n=a},2111(e,t,r){var a=r(1392),n=r(7398),s=Date,o=n(s.prototype.getTime);a({target:"Date",stat:!0},{now:function(){return o(new s)}})},3653(e,t,r){r.d(t,{A:()=>a});r(2956),r(5232),r(1192),r(6282),r(6110),r(9665),r(1097),r(3636),r(7202);const a=function(e,t){var r=[/.{8,}/g];null==t&&(t=r);var a=[];return(t||r).forEach(function(t){a.push(t.test(e))}),!a.some(function(e){return!1===e})}},3691(e,t,r){r.d(t,{A:()=>n});r(8494),r(8080);var a=r(5820);const n=function(e){var t=(0,a.A)({locale:"EN",no:1,one:null,two:null,few:null,many:null,other:null,zero:null},e);if(!e)throw new Error("Parameters are not defined");if(!t.locale)throw new Error('Parameter "locale" is required');if(!t.one)throw new Error('Parameter "one" is required');try{return t[new Intl.PluralRules(t.locale).select(t.no)]}catch(e){return console.error(e),t.one}}},7463(e,t,r){r.d(t,{A:()=>o});var a=function(){var e=this,t=e._self._c;return t("transition",{attrs:{name:"component-resize-y-fade",mode:"out-in"}},[e.errors.length>0?t("transition-group",{staticClass:"message-stack message-stack--error",attrs:{name:"component-resize-y-fade",tag:"ul"}},e._l(e.errors,function(r,a){return t("li",{key:"error-item-"+a},[r.msg?t("div",{staticClass:"error-msg"},[e._v("\n        "+e._s(r.msg)+"\n      ")]):e._e(),e._v(" "),t("div",{staticClass:"error-status"},[t("span",[t("b",[e._v(e._s(r.status))])]),e._v(" "),"statusText"in r&&""!==r.statusText?t("span",[t("b",[e._v(e._s(r.statusText))]),e._v("."),t("br"),e._v("\n          Please try again later or report this error.\n        ")]):e._e()])])}),0):e._e()],1)};a._withStripped=!0;r(868),r(7604),r(6282),r(5963),r(9665),r(1097),r(2930);var n=r(3691);const s={name:"ErrorStack",props:{errors:{type:Array,default:function(){return[]}}},computed:{language:function(){return this.$store.getters["localization/getLanguage"]},errorString:function(){var e=this.errors.map(function(e){return e.msg?e.msg.replace(/\.$/,""):e.statusText?e.statusText.replace(/\.$/,""):""}).join(", "),t=this.errors.length,r=(0,n.A)({no:t,locale:this.language,one:"Error",other:"Errors"});return e?r+": "+e+".":""}},watch:{errorString:function(e,t){e!==t&&this.$announcer.set(this.errorString)}}};const o=(0,r(8598).A)(s,a,[],!1,null,null,null).exports},7563(e,t,r){r.d(t,{k:()=>c,A:()=>m});var a=r(5650),n=(r(3772),r(2956),r(3469),r(5968),r(5232),r(8192),r(6282),r(6110),r(3814),r(9665),r(960),r(8709),r(5636),r(7202),r(9733)),s=r(1825),o=r(3653),i=r(8284),l=r(1904),u=(r(8494),r(8080),r(2111),r(753),r(4420),r(8655),r(2781),r(5820));const d={load:function(e){if(!e)return null;var t=localStorage.getItem((0,i.F)(e));if(!t)return null;var r=JSON.parse(t);return r.expires&&Number.isInteger(r.expires)&&r.expires<Date.now()?(localStorage.removeItem((0,i.F)(e)),null):r},save:function(e){var t=(0,u.A)({key:null,value:null,expires:null},e);if(!t.key||"string"!=typeof t.key)throw new Error('Parameter "key"<string> is required');if(t.expires&&!Number.isInteger(t.expires))throw new Error('Parameter "expires" must be an integer');if(null===t.value)return localStorage.removeItem((0,i.F)(t.key)),{key:t.key,status:"deleted"};localStorage.getItem((0,i.F)(t.key))&&localStorage.removeItem((0,i.F)(t.key));var r={value:t.value};return t.expires&&(r.expires=Date.now()+t.expires),localStorage.setItem((0,i.F)(t.key),JSON.stringify(r)),{key:t.key,status:"saved"}},delete:function(e){if(!e||"string"!=typeof e)throw new Error('Parameter "key"<string> is required');localStorage.removeItem((0,i.F)(e))}};var c={data:function(){return{emailValue:"",emailValidated:!1,emailAvailable:!1,lsEmailSet:!1,passwordValue:"",passwordValidated:!1,passwordConfirmationValue:"",passwordConfirmationValidated:!1,userType:null,loading:!1}},computed:{serverErrors:function(){return this.$store.getters["errorStack/getStackedServerErrorsByNamespace"]("modal-login")},errors:function(){return this.$store.getters["errorStack/getStackedErrorsByNamespace"]("modal-login")},allyErrorString:function(){if(this.errors.length>0){for(var e="Please review the following errors:",t=0;t<this.errors.length;t++)e=e.concat(" ".concat(t+1,". ")+this.errors[t].msg);return e}return null},loginEmail:function(){return this.$store.getters["loginModal/getLoginEmail"]},localStorageLoginKeyName:function(){return(0,i.A)(this.$store.getters["documentData/getLibraryTitle"])+"_login-email"},getRememberMe:function(){return this.$store.getters["loginModal/getRememberMe"]},portalUrl:function(){return this.$store.getters["user/getPortalURL"]}},watch:{allyErrorString:function(e){e?this.$announcer.set(e):this.$announcer.set("")}},created:function(){this.$store.commit("errorStack/removeStackedErrorsByNamespace","modal-login"),this.d_autoValidateEmail=n(this.handleEnteredEmail,200),this.d_autoValidatePassword=n(this.handleEnteredPassword,1e3),this.d_autoValidateConfirmedPassword=n(this.handleConfirmedPassword,1e3)},methods:{emitResponse:function(e){this.$emit("on-response",e)},addError:function(e){this.$store.commit("errorStack/addErrorToStack",e)},removeErrorByMsg:function(e){this.$store.commit("errorStack/removeStackedError",{namespace:e.namespace,msg:e.msg})},validateEmail:function(e){return(0,s.Ay)(e)},validatePassword:function(e){return(0,o.A)(e)},handleEmailErrors:function(){""!==this.emailValue?this.emailValidated?this.removeErrorByMsg({namespace:"modal-login",msg:l.y6.EMAIL_NOT_VALID}):this.addError({namespace:"modal-login",msg:l.y6.EMAIL_NOT_VALID}):this.removeErrorByMsg({namespace:"modal-login",msg:l.y6.EMAIL_NOT_VALID})},handlePasswordErrors:function(){""!==this.passwordValue?this.validatePassword(this.passwordValue)?this.removeErrorByMsg({namespace:"modal-login",msg:l.ec.LOGIN_PASSWORD_NOT_VALID_LENGTH}):this.addError({namespace:"modal-login",msg:l.ec.LOGIN_PASSWORD_NOT_VALID_LENGTH}):this.removeErrorByMsg({namespace:"modal-login",msg:l.ec.LOGIN_PASSWORD_NOT_VALID_LENGTH})},handlePasswordConfirmationErrors:function(){""!==this.passwordConfirmationValue?this.passwordConfirmationValidated?this.removeErrorByMsg({namespace:"modal-login",msg:l.ec.PASSWORDS_MISMATCH}):this.addError({namespace:"modal-login",msg:l.ec.PASSWORDS_MISMATCH}):this.removeErrorByMsg({namespace:"modal-login",msg:l.ec.PASSWORDS_MISMATCH})},handleUserExistsError:function(){this.emailAvailable?this.removeErrorByMsg({namespace:"modal-login",msg:l.ec.LOGIN_USER_EXISTS}):this.addError({namespace:"modal-login",msg:l.ec.LOGIN_USER_EXISTS})},setLoginEmail:function(e){var t=this;e&&""!==e.trim()&&this.emailValidated?(this.$store.commit("loginModal/setLoginEmail",e),this.getRememberMe&&this.LSSaveLoginEmail()):(this.$store.commit("loginModal/setLoginEmail",""),this.$nextTick(function(){return t.LSDeleteLoginEmail()}))},handleEnteredEmail:function(e){var t=this;return new Promise(function(r){e.length>0&&"string"==typeof e?t.emailValue=e.trim():t.emailValue="";var a=(0,s.Ay)(t.emailValue);t.emailValidated=a,t.handleEmailErrors(),t.setLoginEmail(t.emailValue),r(a)})},handleEnteredPassword:function(e){this.passwordValue=e,this.passwordValidated=this.validatePassword(this.passwordValue),this.handlePasswordErrors(),""!==this.passwordConfirmationValue&&(this.passwordConfirmationValidated=this.passwordValue===this.passwordConfirmationValue,this.handlePasswordConfirmationErrors())},handleConfirmedPassword:function(e){this.passwordConfirmationValue=e,this.passwordConfirmationValidated=this.passwordValue===this.passwordConfirmationValue,this.handlePasswordConfirmationErrors(),""!==this.passwordValue&&(this.passwordValidated=this.validatePassword(this.passwordValue),this.handlePasswordErrors())},handleError:function(e){var t=this;if("object"===(0,a.A)(e)&&"response"in e&&"status"in e.response&&"data"in e.response&&e.response.status>=500&&"object"===(0,a.A)(e.response.data)&&e.response.headers["content-type"].includes("application/json"))this.addError({namespace:"modal-login",msg:l.ec.LOGIN_SERVER_ERROR,status:e.response.status,statusText:e.response.data.message});else if("object"===(0,a.A)(e)&&"response"in e&&"status"in e.response&&"data"in e.response&&"name"in e&&e.response.status<500&&"AxiosError"===e.name){var r=[],n=e.response.data;if(Object.keys(n).length>0)Object.values(n).forEach(function(e){Array.isArray(e)?e.forEach(function(e){r.push(e)}):"string"==typeof e&&r.push(e)}),r.length>0&&r.forEach(function(e){t.addError({namespace:"modal-login",msg:e})})}else"object"===(0,a.A)(e)&&"response"in e&&"status"in e.response&&"statusText"in e.response?this.addError({namespace:"modal-login",msg:l.ec.LOGIN_SERVER_ERROR,status:e.response.status,statusText:e.response.statusText}):"string"==typeof e&&this.addError({namespace:"modal-login",msg:e})},LSSaveLoginEmail:function(){this.emailValidated&&this.emailValue&&d.save({key:this.localStorageLoginKeyName,value:this.emailValue})},LSDeleteLoginEmail:function(){d.delete(this.localStorageLoginKeyName),this.$store.commit("loginModal/setRememberMe",!1)},LSLoadLoginEmail:function(){var e=d.load(this.localStorageLoginKeyName);e&&(0,s.Ay)(e.value)?(this.emailValue=e.value,this.emailValidated=!0,this.rememberMe=!0,this.$store.commit("loginModal/setLoginEmail",e.value),this.$store.commit("loginModal/setRememberMe",!0)):e&&!(0,s.Ay)(e.value)&&(this.LSDeleteLoginEmail(),this.rememberMe=!1)},setRememberMe:function(e){this.$store.commit("loginModal/setRememberMe",e),e?this.LSSaveLoginEmail():this.LSDeleteLoginEmail()},saveLSEmailOnChange:function(){this.emailValidated&&this.rememberMe&&this.LSSaveLoginEmail()},passwordEmptyError:function(e){e?this.removeErrorByMsg({namespace:"modal-login",msg:l.ec.LOGIN_PASSWORD_EMPTY}):this.addError({namespace:"modal-login",msg:l.ec.LOGIN_PASSWORD_EMPTY})},emailEmptyError:function(e){e?this.removeErrorByMsg({namespace:"modal-login",msg:l.ec.LOGIN_EMAIL_EMPTY}):this.addError({namespace:"modal-login",msg:l.ec.LOGIN_EMAIL_EMPTY})}}};const m=c},8655(e,t,r){r(1392)({target:"Number",stat:!0},{isInteger:r(9109)})},8693(e,t,r){r.r(t),r.d(t,{default:()=>h});var a=function(){var e=this,t=e._self._c;return t("div",{staticClass:"modal-inner-wrap modal-login"},[t("header",{staticClass:"modal__header"},[t("h2",{attrs:{id:"modalDialogHeading"}},[e._v("\n      Reset password\n    ")]),e._v(" "),t("SuperButton",{attrs:{id:"ModalClose",buttonType:"icon",buttonText:"Close",classRegular:"button--transparent",classCustom:"modal-close-btn button--corner-close",iconRegular:"icon-x"},on:{"on-click":function(t){return e.emitResponse("cancel")}}})],1),e._v(" "),t("div",{staticClass:"modal__content"},[t("div",{staticClass:"modal-form",attrs:{id:"formResetPassword"}},[t("InputLabeled",{attrs:{id:"ModalInputPassword1",type:"password",label:"password",classCustom:"modal-password-field",alignment:"center"},on:{"on-blur":e.handleEnteredPassword,"on-enter":e.handleEnteredPassword,"on-auto":e.d_autoValidatePassword}}),e._v(" "),t("InputLabeled",{attrs:{id:"ModalInputPassword2",type:"password",label:"repeat password",classCustom:"modal-password-field",alignment:"center"},on:{"on-blur":e.handleConfirmedPassword,"on-enter":e.handleConfirmedPassword,"on-auto":e.d_autoValidateConfirmedPassword}}),e._v(" "),t("div",{staticClass:"modal__button-group",style:"justifyContent: center"},[t("SuperButton",{attrs:{"button-text":"Reset","class-regular":"button--ui","icon-position":"right","icon-regular":"icon-sign-in",loading:e.loading,disabled:!e.isResetEnabled},on:{"on-click":e.doReset}})],1),e._v(" "),t("ErrorStack",{attrs:{errors:e.errors}})],1)])])};a._withStripped=!0;r(9665),r(1097),r(2930);var n=r(9217),s=r(574),o=r(253),i=r(1904),l=r(8119),u=r(6919),d=r(9012),c=r(7563),m=r(7463);const p={name:"CardResetPassword",components:{SuperButton:u.A,ErrorStack:m.A,InputLabeled:d.A},mixins:[c.A,l.A],computed:{isResetEnabled:function(){return this.passwordValidated&&this.passwordConfirmationValidated&&!this.loading}},mounted:function(){var e=this,t=this.$store.getters["document/getURLParams"],r=t.token,a=t.uid;n.A.post("".concat(this.$store.getters["user/getPortalURL"],"/user/check_token"),{uid:a,token:r}).catch(function(){e.emitResponse("cancel"),e.$router.replace("".concat(s.A,"password-reset/error"))}),(0,o.A)("#ModalInputPassword1")},methods:{savePasswordValue:function(e){this.passwordValue=e},doReset:function(){var e=this;return this.loading=!0,new Promise(function(t,r){var a=e.$store.getters["document/getURLParams"],o=a.token,l=a.uid;n.A.post("".concat(e.$store.getters["user/getPortalURL"],"/users/reset_password_confirm/"),{new_password:e.passwordValue,re_new_password:e.passwordValue,uid:l,token:o}).then(function(){e.removeErrorByMsg({namespace:"modal-login",msg:i.ec.LOGIN_SERVER_ERROR}),e.$router.replace("".concat(s.A,"password-reset")),e.emitResponse("cancel"),t()}).catch(function(t){e.loading=!1,e.handleError(t),r(t)}).finally(function(){e.loading=!1})})}}};const h=(0,r(8598).A)(p,a,[],!1,null,null,null).exports},9012(e,t,r){r.d(t,{A:()=>i});r(3772),r(3754),r(5968),r(4607);var a=function(){var e=this,t=e._self._c;return t("div",{class:["input-labeled-wrapper",e.classCustom],attrs:{id:e.cid}},[t("div",{class:["input-labeled","input-labeled--".concat(e.alignment),"input-labeled--".concat(e.type),e.disabledClass]},["checkbox"===e.inputType?t("input",{directives:[{name:"model",rawName:"v-model",value:e.value,expression:"value"}],ref:"".concat(e.cid,"__input"),style:"paddingRight: calc(".concat(e.buttonsWidth,"px + 0.25rem)"),attrs:{id:"".concat(e.cid,"__input"),placeholder:" ",disabled:e.disabled,type:"checkbox"},domProps:{checked:Array.isArray(e.value)?e._i(e.value,null)>-1:e.value},on:{keypress:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:(t.preventDefault(),t.stopPropagation(),e.onEnter(e.value))},click:function(e){e.preventDefault(),e.stopPropagation()},blur:function(t){return e.onBlur(e.value)},change:function(t){var r=e.value,a=t.target,n=!!a.checked;if(Array.isArray(r)){var s=e._i(r,null);a.checked?s<0&&(e.value=r.concat([null])):s>-1&&(e.value=r.slice(0,s).concat(r.slice(s+1)))}else e.value=n}}}):"radio"===e.inputType?t("input",{directives:[{name:"model",rawName:"v-model",value:e.value,expression:"value"}],ref:"".concat(e.cid,"__input"),style:"paddingRight: calc(".concat(e.buttonsWidth,"px + 0.25rem)"),attrs:{id:"".concat(e.cid,"__input"),placeholder:" ",disabled:e.disabled,type:"radio"},domProps:{checked:e._q(e.value,null)},on:{keypress:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:(t.preventDefault(),t.stopPropagation(),e.onEnter(e.value))},click:function(e){e.preventDefault(),e.stopPropagation()},blur:function(t){return e.onBlur(e.value)},change:function(t){e.value=null}}}):t("input",{directives:[{name:"model",rawName:"v-model",value:e.value,expression:"value"}],ref:"".concat(e.cid,"__input"),style:"paddingRight: calc(".concat(e.buttonsWidth,"px + 0.25rem)"),attrs:{id:"".concat(e.cid,"__input"),placeholder:" ",disabled:e.disabled,type:e.inputType},domProps:{value:e.value},on:{keypress:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:(t.preventDefault(),t.stopPropagation(),e.onEnter(e.value))},click:function(e){e.preventDefault(),e.stopPropagation()},blur:function(t){return e.onBlur(e.value)},input:function(t){t.target.composing||(e.value=t.target.value)}}}),e._v(" "),t("label",{attrs:{for:"".concat(e.cid,"__input")}},[e._v(e._s(e.label))])]),e._v(" "),e.buttonsAvailable?t("div",{ref:"inputButtonGroup"+e.cid,staticClass:"input-button-group"},[e.ifClearBtn?t("SuperButton",{attrs:{"button-text":"Reset field","button-type":"icon","icon-regular":"icon-x","class-regular":"button--transparent","class-selected":"button--transparent","class-custom":"button-clear-input",disabled:""===e.value},on:{"on-click":e.clearInput}}):e._e(),e._v(" "),"password"===e.type?t("SuperButton",{attrs:{"button-text":"Reveal password","button-type":"icon","icon-regular":"icon-eye-crossed","icon-selected":"icon-eye","class-regular":"button--transparent","class-selected":"button--transparent","class-custom":"button-reveal-password",disabled:e.disabled,selected:e.revealPass},on:{"on-click":function(t){e.revealPass=!e.revealPass}}}):e._e()],1):e._e()])};a._withStripped=!0;r(1192),r(9665);var n=r(8119);const s={name:"InputLabeled",components:{SuperButton:r(6919).A},mixins:[n.L],props:{uid:{type:String,default:null},type:{type:String,default:"text",validator:function(e){return["text","email","search","url","password"].some(function(t){return t===e})}},alignment:{type:String,default:"center",validator:function(e){return["left","center","right"].some(function(t){return t===e})}},clearBtn:{type:Boolean,default:!1},label:{type:String,default:"Input",required:!0},inputValue:{type:String,default:""},classCustom:{type:String,default:null},disabled:{type:Boolean,default:!1}},data:function(){return{revealPass:!1,value:"",buttonsWidth:0}},computed:{componentUID:function(){return null!==this.uid&&"input_".concat(this.uid)},inputType:function(){var e=this;return["text","email","search","url"].some(function(t){return t===e.type})?this.type:["password"].some(function(t){return t===e.type})?this.revealPass?"text":"password":"text"},disabledClass:function(){return!!this.$props.disabled&&"input-labeled--disabled"},buttonsAvailable:function(){return"password"===this.$props.type||this.$props.clearBtn},ifClearBtn:function(){return this.$props.clearBtn&&""!==this.value}},watch:{value:function(e){this.onAuto(e)},inputValue:function(e){this.value=e},ifClearBtn:function(){var e=this;this.$nextTick(function(){e.getButtonWrapWidth()})}},created:function(){this.value=this.$props.inputValue},mounted:function(){this.buttonsAvailable&&this.getButtonWrapWidth()},methods:{onEnter:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;this.$emit("on-enter",e)},onBlur:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;this.$emit("on-blur",e)},onAuto:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;this.$emit("on-auto",e)},clearInput:function(){this.value="",this.$refs["".concat(this.cid,"__input")].focus(),this.$emit("on-clear","")},getButtonWrapWidth:function(){this.buttonsWidth=Math.round(this.$refs["inputButtonGroup"+this.cid].getBoundingClientRect().width)},getAriaLabel:function(e){return{text:"Enter text",email:"Enter an email address",search:"Search",url:"Enter an URL",password:"Enter a password"}[e]||"Input field"}}},o=s;const i=(0,r(8598).A)(o,a,[],!1,null,null,null).exports},9109(e,t,r){var a=r(8804),n=Math.floor;e.exports=Number.isInteger||function(e){return!a(e)&&isFinite(e)&&n(e)===e}}}]);