"use strict";(self.webpackChunkpartner_us_nsn_menominee_legislature=self.webpackChunkpartner_us_nsn_menominee_legislature||[]).push([[678],{1825(e,t,r){r.d(t,{Ay:()=>s});r(1097),r(3636);var a=function(e){return/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(e)};const s=a},1898(e,t,r){r.r(t),r.d(t,{default:()=>m});var a=function(){var e=this,t=e._self._c;return t("div",{staticClass:"modal-inner-wrap modal-login"},[t("header",{staticClass:"modal__header"},[t("h2",{attrs:{id:"modalDialogHeading"}},[e._v("\n      Registration\n    ")]),e._v(" "),t("SuperButton",{attrs:{id:"ModalClose",buttonType:"icon",buttonText:"Close",classRegular:"button--transparent",classCustom:"modal-close-btn button--corner-close",iconRegular:"icon-x"},on:{"on-click":function(t){return e.emitResponse("cancel")}}})],1),e._v(" "),t("div",{staticClass:"modal__content"},[t("div",{staticClass:"modal__text modal__text--center"},[t("p",[e._v("We see that your email "),t("em",[e._v(e._s(e.email))]),e._v(" is not registered with the "),t("b",[e._v(e._s(e.libraryName))]),e._v(".")]),e._v(" "),t("p",[e._v("Would you like to register?")])]),e._v(" "),t("div",{staticClass:"modal__button-group"},[t("SuperButton",{attrs:{id:"ModalButtonBack","button-text":"Back","icon-position":"left","icon-regular":"icon-chevron-left"},on:{"on-click":function(t){return e.emitResponse("back")}}}),e._v(" "),t("SuperButton",{attrs:{id:"ModalButtonRegister","button-text":"Register","class-regular":"button--ui","icon-position":"right","icon-regular":"icon-edit-document"},on:{"on-click":function(t){return e.emitResponse("register")}}})],1)])])};a._withStripped=!0;var s=r(253),o=r(8119),i=r(6919),n=r(7563);const l={name:"CardLoginRegisterOffer",components:{SuperButton:i.A},mixins:[n.A,o.A],computed:{libraryName:function(){return this.$store.getters["documentData/getLibraryTitle"]},email:function(){return this.$store.getters["loginModal/getLoginEmail"]}},mounted:function(){(0,s.A)("#ModalButtonRegister")}};const m=(0,r(8598).A)(l,a,[],!1,null,null,null).exports},2111(e,t,r){var a=r(1392),s=r(7398),o=Date,i=s(o.prototype.getTime);a({target:"Date",stat:!0},{now:function(){return i(new o)}})},3653(e,t,r){r.d(t,{A:()=>a});r(2956),r(5232),r(1192),r(6282),r(6110),r(9665),r(1097),r(3636),r(7202);const a=function(e,t){var r=[/.{8,}/g];null==t&&(t=r);var a=[];return(t||r).forEach(function(t){a.push(t.test(e))}),!a.some(function(e){return!1===e})}},7563(e,t,r){r.d(t,{k:()=>u,A:()=>c});var a=r(5650),s=(r(3772),r(2956),r(3469),r(5968),r(5232),r(8192),r(6282),r(6110),r(3814),r(9665),r(960),r(8709),r(5636),r(7202),r(9733)),o=r(1825),i=r(3653),n=r(8284),l=r(1904),m=(r(8494),r(8080),r(2111),r(753),r(4420),r(8655),r(2781),r(5820));const d={load:function(e){if(!e)return null;var t=localStorage.getItem((0,n.F)(e));if(!t)return null;var r=JSON.parse(t);return r.expires&&Number.isInteger(r.expires)&&r.expires<Date.now()?(localStorage.removeItem((0,n.F)(e)),null):r},save:function(e){var t=(0,m.A)({key:null,value:null,expires:null},e);if(!t.key||"string"!=typeof t.key)throw new Error('Parameter "key"<string> is required');if(t.expires&&!Number.isInteger(t.expires))throw new Error('Parameter "expires" must be an integer');if(null===t.value)return localStorage.removeItem((0,n.F)(t.key)),{key:t.key,status:"deleted"};localStorage.getItem((0,n.F)(t.key))&&localStorage.removeItem((0,n.F)(t.key));var r={value:t.value};return t.expires&&(r.expires=Date.now()+t.expires),localStorage.setItem((0,n.F)(t.key),JSON.stringify(r)),{key:t.key,status:"saved"}},delete:function(e){if(!e||"string"!=typeof e)throw new Error('Parameter "key"<string> is required');localStorage.removeItem((0,n.F)(e))}};var u={data:function(){return{emailValue:"",emailValidated:!1,emailAvailable:!1,lsEmailSet:!1,passwordValue:"",passwordValidated:!1,passwordConfirmationValue:"",passwordConfirmationValidated:!1,userType:null,loading:!1}},computed:{serverErrors:function(){return this.$store.getters["errorStack/getStackedServerErrorsByNamespace"]("modal-login")},errors:function(){return this.$store.getters["errorStack/getStackedErrorsByNamespace"]("modal-login")},allyErrorString:function(){if(this.errors.length>0){for(var e="Please review the following errors:",t=0;t<this.errors.length;t++)e=e.concat(" ".concat(t+1,". ")+this.errors[t].msg);return e}return null},loginEmail:function(){return this.$store.getters["loginModal/getLoginEmail"]},localStorageLoginKeyName:function(){return(0,n.A)(this.$store.getters["documentData/getLibraryTitle"])+"_login-email"},getRememberMe:function(){return this.$store.getters["loginModal/getRememberMe"]},portalUrl:function(){return this.$store.getters["user/getPortalURL"]}},watch:{allyErrorString:function(e){e?this.$announcer.set(e):this.$announcer.set("")}},created:function(){this.$store.commit("errorStack/removeStackedErrorsByNamespace","modal-login"),this.d_autoValidateEmail=s(this.handleEnteredEmail,200),this.d_autoValidatePassword=s(this.handleEnteredPassword,1e3),this.d_autoValidateConfirmedPassword=s(this.handleConfirmedPassword,1e3)},methods:{emitResponse:function(e){this.$emit("on-response",e)},addError:function(e){this.$store.commit("errorStack/addErrorToStack",e)},removeErrorByMsg:function(e){this.$store.commit("errorStack/removeStackedError",{namespace:e.namespace,msg:e.msg})},validateEmail:function(e){return(0,o.Ay)(e)},validatePassword:function(e){return(0,i.A)(e)},handleEmailErrors:function(){""!==this.emailValue?this.emailValidated?this.removeErrorByMsg({namespace:"modal-login",msg:l.y6.EMAIL_NOT_VALID}):this.addError({namespace:"modal-login",msg:l.y6.EMAIL_NOT_VALID}):this.removeErrorByMsg({namespace:"modal-login",msg:l.y6.EMAIL_NOT_VALID})},handlePasswordErrors:function(){""!==this.passwordValue?this.validatePassword(this.passwordValue)?this.removeErrorByMsg({namespace:"modal-login",msg:l.ec.LOGIN_PASSWORD_NOT_VALID_LENGTH}):this.addError({namespace:"modal-login",msg:l.ec.LOGIN_PASSWORD_NOT_VALID_LENGTH}):this.removeErrorByMsg({namespace:"modal-login",msg:l.ec.LOGIN_PASSWORD_NOT_VALID_LENGTH})},handlePasswordConfirmationErrors:function(){""!==this.passwordConfirmationValue?this.passwordConfirmationValidated?this.removeErrorByMsg({namespace:"modal-login",msg:l.ec.PASSWORDS_MISMATCH}):this.addError({namespace:"modal-login",msg:l.ec.PASSWORDS_MISMATCH}):this.removeErrorByMsg({namespace:"modal-login",msg:l.ec.PASSWORDS_MISMATCH})},handleUserExistsError:function(){this.emailAvailable?this.removeErrorByMsg({namespace:"modal-login",msg:l.ec.LOGIN_USER_EXISTS}):this.addError({namespace:"modal-login",msg:l.ec.LOGIN_USER_EXISTS})},setLoginEmail:function(e){var t=this;e&&""!==e.trim()&&this.emailValidated?(this.$store.commit("loginModal/setLoginEmail",e),this.getRememberMe&&this.LSSaveLoginEmail()):(this.$store.commit("loginModal/setLoginEmail",""),this.$nextTick(function(){return t.LSDeleteLoginEmail()}))},handleEnteredEmail:function(e){var t=this;return new Promise(function(r){e.length>0&&"string"==typeof e?t.emailValue=e.trim():t.emailValue="";var a=(0,o.Ay)(t.emailValue);t.emailValidated=a,t.handleEmailErrors(),t.setLoginEmail(t.emailValue),r(a)})},handleEnteredPassword:function(e){this.passwordValue=e,this.passwordValidated=this.validatePassword(this.passwordValue),this.handlePasswordErrors(),""!==this.passwordConfirmationValue&&(this.passwordConfirmationValidated=this.passwordValue===this.passwordConfirmationValue,this.handlePasswordConfirmationErrors())},handleConfirmedPassword:function(e){this.passwordConfirmationValue=e,this.passwordConfirmationValidated=this.passwordValue===this.passwordConfirmationValue,this.handlePasswordConfirmationErrors(),""!==this.passwordValue&&(this.passwordValidated=this.validatePassword(this.passwordValue),this.handlePasswordErrors())},handleError:function(e){var t=this;if("object"===(0,a.A)(e)&&"response"in e&&"status"in e.response&&"data"in e.response&&e.response.status>=500&&"object"===(0,a.A)(e.response.data)&&e.response.headers["content-type"].includes("application/json"))this.addError({namespace:"modal-login",msg:l.ec.LOGIN_SERVER_ERROR,status:e.response.status,statusText:e.response.data.message});else if("object"===(0,a.A)(e)&&"response"in e&&"status"in e.response&&"data"in e.response&&"name"in e&&e.response.status<500&&"AxiosError"===e.name){var r=[],s=e.response.data;if(Object.keys(s).length>0)Object.values(s).forEach(function(e){Array.isArray(e)?e.forEach(function(e){r.push(e)}):"string"==typeof e&&r.push(e)}),r.length>0&&r.forEach(function(e){t.addError({namespace:"modal-login",msg:e})})}else"object"===(0,a.A)(e)&&"response"in e&&"status"in e.response&&"statusText"in e.response?this.addError({namespace:"modal-login",msg:l.ec.LOGIN_SERVER_ERROR,status:e.response.status,statusText:e.response.statusText}):"string"==typeof e&&this.addError({namespace:"modal-login",msg:e})},LSSaveLoginEmail:function(){this.emailValidated&&this.emailValue&&d.save({key:this.localStorageLoginKeyName,value:this.emailValue})},LSDeleteLoginEmail:function(){d.delete(this.localStorageLoginKeyName),this.$store.commit("loginModal/setRememberMe",!1)},LSLoadLoginEmail:function(){var e=d.load(this.localStorageLoginKeyName);e&&(0,o.Ay)(e.value)?(this.emailValue=e.value,this.emailValidated=!0,this.rememberMe=!0,this.$store.commit("loginModal/setLoginEmail",e.value),this.$store.commit("loginModal/setRememberMe",!0)):e&&!(0,o.Ay)(e.value)&&(this.LSDeleteLoginEmail(),this.rememberMe=!1)},setRememberMe:function(e){this.$store.commit("loginModal/setRememberMe",e),e?this.LSSaveLoginEmail():this.LSDeleteLoginEmail()},saveLSEmailOnChange:function(){this.emailValidated&&this.rememberMe&&this.LSSaveLoginEmail()},passwordEmptyError:function(e){e?this.removeErrorByMsg({namespace:"modal-login",msg:l.ec.LOGIN_PASSWORD_EMPTY}):this.addError({namespace:"modal-login",msg:l.ec.LOGIN_PASSWORD_EMPTY})},emailEmptyError:function(e){e?this.removeErrorByMsg({namespace:"modal-login",msg:l.ec.LOGIN_EMAIL_EMPTY}):this.addError({namespace:"modal-login",msg:l.ec.LOGIN_EMAIL_EMPTY})}}};const c=u},8655(e,t,r){r(1392)({target:"Number",stat:!0},{isInteger:r(9109)})},9109(e,t,r){var a=r(8804),s=Math.floor;e.exports=Number.isInteger||function(e){return!a(e)&&isFinite(e)&&s(e)===e}}}]);