"use strict";(self.webpackChunkpartner_us_nsn_menominee_legislature=self.webpackChunkpartner_us_nsn_menominee_legislature||[]).push([[804],{3691(e,t,r){r.d(t,{A:()=>i});r(8494),r(8080);var s=r(5820);const i=function(e){var t=(0,s.A)({locale:"EN",no:1,one:null,two:null,few:null,many:null,other:null,zero:null},e);if(!e)throw new Error("Parameters are not defined");if(!t.locale)throw new Error('Parameter "locale" is required');if(!t.one)throw new Error('Parameter "one" is required');try{return t[new Intl.PluralRules(t.locale).select(t.no)]}catch(e){return console.error(e),t.one}}},6861(e,t,r){r.r(t),r.d(t,{default:()=>p});r(3772),r(5968),r(4607);var s=function(){var e=this,t=e._self._c;return t("section",{class:["area__tool__content","user-settings","user-settings-notifications"],attrs:{id:"grid-sidebar__content",role:"tabpanel",tabindex:"-1","aria-describedby":"grid-sidebar__header"}},[t("div",{staticClass:"h__ui--small"},[e._v("\n    Email notifications\n  ")]),e._v(" "),t("ul",{staticClass:"checkbox-group"},[t("li",[t("span",{staticClass:"checkbox-wrap"},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.emailSubscription,expression:"emailSubscription"}],attrs:{id:"emailSubscription",type:"checkbox"},domProps:{checked:Array.isArray(e.emailSubscription)?e._i(e.emailSubscription,null)>-1:e.emailSubscription},on:{click:function(t){e.checkboxClicked=!0},change:function(t){var r=e.emailSubscription,s=t.target,i=!!s.checked;if(Array.isArray(r)){var a=e._i(r,null);s.checked?a<0&&(e.emailSubscription=r.concat([null])):a>-1&&(e.emailSubscription=r.slice(0,a).concat(r.slice(a+1)))}else e.emailSubscription=i}}})]),e._v(" "),t("label",{attrs:{for:"emailSubscription"}},[e._v("\n        Subscriptions\n      ")])]),e._v(" "),t("li",[t("span",{staticClass:"checkbox-wrap"},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.emailPrivateNotes,expression:"emailPrivateNotes"}],attrs:{id:"emailPrivateNotes",type:"checkbox"},domProps:{checked:Array.isArray(e.emailPrivateNotes)?e._i(e.emailPrivateNotes,null)>-1:e.emailPrivateNotes},on:{click:function(t){e.checkboxClicked=!0},change:function(t){var r=e.emailPrivateNotes,s=t.target,i=!!s.checked;if(Array.isArray(r)){var a=e._i(r,null);s.checked?a<0&&(e.emailPrivateNotes=r.concat([null])):a>-1&&(e.emailPrivateNotes=r.slice(0,a).concat(r.slice(a+1)))}else e.emailPrivateNotes=i}}})]),e._v(" "),t("label",{attrs:{for:"emailPrivateNotes"}},[e._v("\n        Private notes\n      ")])])]),e._v(" "),t("div",{staticClass:"h__ui--small"},[e._v("\n    Push notifications\n  ")]),e._v(" "),t("ul",{staticClass:"checkbox-group"},[t("li",[t("span",{staticClass:"checkbox-wrap"},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.pushSubscriptions,expression:"pushSubscriptions"}],attrs:{id:"pushSubscriptions",type:"checkbox"},domProps:{checked:Array.isArray(e.pushSubscriptions)?e._i(e.pushSubscriptions,null)>-1:e.pushSubscriptions},on:{click:function(t){e.checkboxClicked=!0},change:function(t){var r=e.pushSubscriptions,s=t.target,i=!!s.checked;if(Array.isArray(r)){var a=e._i(r,null);s.checked?a<0&&(e.pushSubscriptions=r.concat([null])):a>-1&&(e.pushSubscriptions=r.slice(0,a).concat(r.slice(a+1)))}else e.pushSubscriptions=i}}})]),e._v(" "),t("label",{attrs:{for:"pushSubscriptions"}},[e._v("\n        Subscriptions\n      ")])]),e._v(" "),t("li",[t("span",{staticClass:"checkbox-wrap"},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.pushPrivateNotes,expression:"pushPrivateNotes"}],attrs:{id:"pushPrivateNotes",type:"checkbox"},domProps:{checked:Array.isArray(e.pushPrivateNotes)?e._i(e.pushPrivateNotes,null)>-1:e.pushPrivateNotes},on:{click:function(t){e.checkboxClicked=!0},change:function(t){var r=e.pushPrivateNotes,s=t.target,i=!!s.checked;if(Array.isArray(r)){var a=e._i(r,null);s.checked?a<0&&(e.pushPrivateNotes=r.concat([null])):a>-1&&(e.pushPrivateNotes=r.slice(0,a).concat(r.slice(a+1)))}else e.pushPrivateNotes=i}}})]),e._v(" "),t("label",{attrs:{for:"pushPrivateNotes"}},[e._v("\n        Private notes\n      ")])])]),e._v(" "),t("div",{staticClass:"button-container"},[t("SuperButton",{attrs:{"button-text":"Save","class-regular":"button--ui",loading:e.loading,disabled:e.loading||!e.checkboxClicked},on:{"on-click":e.saveSettings}})],1),e._v(" "),e.notificationsChanged?t("div",{staticClass:"message-stack message-stack--success"},[t("p",[e._v(e._s(e.successMessages.SETTINGS_SAVED))])]):e._e(),e._v(" "),t("ErrorStack",{attrs:{errors:e.errors}})],1)};s._withStripped=!0;r(9665),r(5293);var i=r(9724),a=r(1904),n=r(6919),o=r(369),c=r(890),l=r(7463);const u={name:i.A.TOOL_USER_NOTIFICATIONS,components:{SuperButton:n.A,ErrorStack:l.A},mixins:[o.A,c.A],data:function(){return{emailSubscription:!1,emailPrivateNotes:!1,pushSubscriptions:!1,pushPrivateNotes:!1,notificationsChanged:!1,loading:!1,checkboxClicked:!1}},computed:{errors:function(){return this.$store.getters["errorStack/getStackedErrorsByNamespace"]("user-notifications-change")},successMessages:function(){return a.bc}},methods:{removeServerErrors:function(){this.$store.commit("errorStack/removeStackedError",{namespace:"user-notifications-change",msg:a.y6.SERVER_ERROR})},saveSettings:function(){var e=this;return new Promise(function(t){e.loading=!0,setTimeout(function(){e.removeServerErrors(),e.notificationsChanged=!0,e.$store.commit("sharedMessages/addPopupMessage",{type:"success",title:"User settings",text:"".concat(a.bc.SETTINGS_SAVED),announce:"".concat(a.bc.SETTINGS_SAVED),timeout:1e4}),e.loading=!1,t()},2e3)})}}};const p=(0,r(8598).A)(u,s,[],!1,null,null,null).exports},7463(e,t,r){r.d(t,{A:()=>n});var s=function(){var e=this,t=e._self._c;return t("transition",{attrs:{name:"component-resize-y-fade",mode:"out-in"}},[e.errors.length>0?t("transition-group",{staticClass:"message-stack message-stack--error",attrs:{name:"component-resize-y-fade",tag:"ul"}},e._l(e.errors,function(r,s){return t("li",{key:"error-item-"+s},[r.msg?t("div",{staticClass:"error-msg"},[e._v("\n        "+e._s(r.msg)+"\n      ")]):e._e(),e._v(" "),t("div",{staticClass:"error-status"},[t("span",[t("b",[e._v(e._s(r.status))])]),e._v(" "),"statusText"in r&&""!==r.statusText?t("span",[t("b",[e._v(e._s(r.statusText))]),e._v("."),t("br"),e._v("\n          Please try again later or report this error.\n        ")]):e._e()])])}),0):e._e()],1)};s._withStripped=!0;r(868),r(7604),r(6282),r(5963),r(9665),r(1097),r(2930);var i=r(3691);const a={name:"ErrorStack",props:{errors:{type:Array,default:function(){return[]}}},computed:{language:function(){return this.$store.getters["localization/getLanguage"]},errorString:function(){var e=this.errors.map(function(e){return e.msg?e.msg.replace(/\.$/,""):e.statusText?e.statusText.replace(/\.$/,""):""}).join(", "),t=this.errors.length,r=(0,i.A)({no:t,locale:this.language,one:"Error",other:"Errors"});return e?r+": "+e+".":""}},watch:{errorString:function(e,t){e!==t&&this.$announcer.set(this.errorString)}}};const n=(0,r(8598).A)(a,s,[],!1,null,null,null).exports}}]);