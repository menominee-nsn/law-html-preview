"use strict";(self.webpackChunkpartner_us_nsn_menominee_legislature=self.webpackChunkpartner_us_nsn_menominee_legislature||[]).push([[48],{1825(e,t,r){r.d(t,{Ay:()=>a});r(1097),r(3636);var n=function(e){return/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(e)};const a=n},2111(e,t,r){var n=r(1392),a=r(7398),s=Date,o=a(s.prototype.getTime);n({target:"Date",stat:!0},{now:function(){return o(new s)}})},3653(e,t,r){r.d(t,{A:()=>n});r(2956),r(5232),r(1192),r(6282),r(6110),r(9665),r(1097),r(3636),r(7202);const n=function(e,t){var r=[/.{8,}/g];null==t&&(t=r);var n=[];return(t||r).forEach(function(t){n.push(t.test(e))}),!n.some(function(e){return!1===e})}},3691(e,t,r){r.d(t,{A:()=>a});r(8494),r(8080);var n=r(5820);const a=function(e){var t=(0,n.A)({locale:"EN",no:1,one:null,two:null,few:null,many:null,other:null,zero:null},e);if(!e)throw new Error("Parameters are not defined");if(!t.locale)throw new Error('Parameter "locale" is required');if(!t.one)throw new Error('Parameter "one" is required');try{return t[new Intl.PluralRules(t.locale).select(t.no)]}catch(e){return console.error(e),t.one}}},7463(e,t,r){r.d(t,{A:()=>o});var n=function(){var e=this,t=e._self._c;return t("transition",{attrs:{name:"component-resize-y-fade",mode:"out-in"}},[e.errors.length>0?t("transition-group",{staticClass:"message-stack message-stack--error",attrs:{name:"component-resize-y-fade",tag:"ul"}},e._l(e.errors,function(r,n){return t("li",{key:"error-item-"+n},[r.msg?t("div",{staticClass:"error-msg"},[e._v("\n        "+e._s(r.msg)+"\n      ")]):e._e(),e._v(" "),t("div",{staticClass:"error-status"},[t("span",[t("b",[e._v(e._s(r.status))])]),e._v(" "),"statusText"in r&&""!==r.statusText?t("span",[t("b",[e._v(e._s(r.statusText))]),e._v("."),t("br"),e._v("\n          Please try again later or report this error.\n        ")]):e._e()])])}),0):e._e()],1)};n._withStripped=!0;r(868),r(7604),r(6282),r(5963),r(9665),r(1097),r(2930);var a=r(3691);const s={name:"ErrorStack",props:{errors:{type:Array,default:function(){return[]}}},computed:{language:function(){return this.$store.getters["localization/getLanguage"]},errorString:function(){var e=this.errors.map(function(e){return e.msg?e.msg.replace(/\.$/,""):e.statusText?e.statusText.replace(/\.$/,""):""}).join(", "),t=this.errors.length,r=(0,a.A)({no:t,locale:this.language,one:"Error",other:"Errors"});return e?r+": "+e+".":""}},watch:{errorString:function(e,t){e!==t&&this.$announcer.set(this.errorString)}}};const o=(0,r(8598).A)(s,n,[],!1,null,null,null).exports},7563(e,t,r){r.d(t,{k:()=>d,A:()=>m});var n=r(5650),a=(r(3772),r(2956),r(3469),r(5968),r(5232),r(8192),r(6282),r(6110),r(3814),r(9665),r(960),r(8709),r(5636),r(7202),r(9733)),s=r(1825),o=r(3653),i=r(8284),l=r(1904),u=(r(8494),r(8080),r(2111),r(753),r(4420),r(8655),r(2781),r(5820));const c={load:function(e){if(!e)return null;var t=localStorage.getItem((0,i.F)(e));if(!t)return null;var r=JSON.parse(t);return r.expires&&Number.isInteger(r.expires)&&r.expires<Date.now()?(localStorage.removeItem((0,i.F)(e)),null):r},save:function(e){var t=(0,u.A)({key:null,value:null,expires:null},e);if(!t.key||"string"!=typeof t.key)throw new Error('Parameter "key"<string> is required');if(t.expires&&!Number.isInteger(t.expires))throw new Error('Parameter "expires" must be an integer');if(null===t.value)return localStorage.removeItem((0,i.F)(t.key)),{key:t.key,status:"deleted"};localStorage.getItem((0,i.F)(t.key))&&localStorage.removeItem((0,i.F)(t.key));var r={value:t.value};return t.expires&&(r.expires=Date.now()+t.expires),localStorage.setItem((0,i.F)(t.key),JSON.stringify(r)),{key:t.key,status:"saved"}},delete:function(e){if(!e||"string"!=typeof e)throw new Error('Parameter "key"<string> is required');localStorage.removeItem((0,i.F)(e))}};var d={data:function(){return{emailValue:"",emailValidated:!1,emailAvailable:!1,lsEmailSet:!1,passwordValue:"",passwordValidated:!1,passwordConfirmationValue:"",passwordConfirmationValidated:!1,userType:null,loading:!1}},computed:{serverErrors:function(){return this.$store.getters["errorStack/getStackedServerErrorsByNamespace"]("modal-login")},errors:function(){return this.$store.getters["errorStack/getStackedErrorsByNamespace"]("modal-login")},allyErrorString:function(){if(this.errors.length>0){for(var e="Please review the following errors:",t=0;t<this.errors.length;t++)e=e.concat(" ".concat(t+1,". ")+this.errors[t].msg);return e}return null},loginEmail:function(){return this.$store.getters["loginModal/getLoginEmail"]},localStorageLoginKeyName:function(){return(0,i.A)(this.$store.getters["documentData/getLibraryTitle"])+"_login-email"},getRememberMe:function(){return this.$store.getters["loginModal/getRememberMe"]},portalUrl:function(){return this.$store.getters["user/getPortalURL"]}},watch:{allyErrorString:function(e){e?this.$announcer.set(e):this.$announcer.set("")}},created:function(){this.$store.commit("errorStack/removeStackedErrorsByNamespace","modal-login"),this.d_autoValidateEmail=a(this.handleEnteredEmail,200),this.d_autoValidatePassword=a(this.handleEnteredPassword,1e3),this.d_autoValidateConfirmedPassword=a(this.handleConfirmedPassword,1e3)},methods:{emitResponse:function(e){this.$emit("on-response",e)},addError:function(e){this.$store.commit("errorStack/addErrorToStack",e)},removeErrorByMsg:function(e){this.$store.commit("errorStack/removeStackedError",{namespace:e.namespace,msg:e.msg})},validateEmail:function(e){return(0,s.Ay)(e)},validatePassword:function(e){return(0,o.A)(e)},handleEmailErrors:function(){""!==this.emailValue?this.emailValidated?this.removeErrorByMsg({namespace:"modal-login",msg:l.y6.EMAIL_NOT_VALID}):this.addError({namespace:"modal-login",msg:l.y6.EMAIL_NOT_VALID}):this.removeErrorByMsg({namespace:"modal-login",msg:l.y6.EMAIL_NOT_VALID})},handlePasswordErrors:function(){""!==this.passwordValue?this.validatePassword(this.passwordValue)?this.removeErrorByMsg({namespace:"modal-login",msg:l.ec.LOGIN_PASSWORD_NOT_VALID_LENGTH}):this.addError({namespace:"modal-login",msg:l.ec.LOGIN_PASSWORD_NOT_VALID_LENGTH}):this.removeErrorByMsg({namespace:"modal-login",msg:l.ec.LOGIN_PASSWORD_NOT_VALID_LENGTH})},handlePasswordConfirmationErrors:function(){""!==this.passwordConfirmationValue?this.passwordConfirmationValidated?this.removeErrorByMsg({namespace:"modal-login",msg:l.ec.PASSWORDS_MISMATCH}):this.addError({namespace:"modal-login",msg:l.ec.PASSWORDS_MISMATCH}):this.removeErrorByMsg({namespace:"modal-login",msg:l.ec.PASSWORDS_MISMATCH})},handleUserExistsError:function(){this.emailAvailable?this.removeErrorByMsg({namespace:"modal-login",msg:l.ec.LOGIN_USER_EXISTS}):this.addError({namespace:"modal-login",msg:l.ec.LOGIN_USER_EXISTS})},setLoginEmail:function(e){var t=this;e&&""!==e.trim()&&this.emailValidated?(this.$store.commit("loginModal/setLoginEmail",e),this.getRememberMe&&this.LSSaveLoginEmail()):(this.$store.commit("loginModal/setLoginEmail",""),this.$nextTick(function(){return t.LSDeleteLoginEmail()}))},handleEnteredEmail:function(e){var t=this;return new Promise(function(r){e.length>0&&"string"==typeof e?t.emailValue=e.trim():t.emailValue="";var n=(0,s.Ay)(t.emailValue);t.emailValidated=n,t.handleEmailErrors(),t.setLoginEmail(t.emailValue),r(n)})},handleEnteredPassword:function(e){this.passwordValue=e,this.passwordValidated=this.validatePassword(this.passwordValue),this.handlePasswordErrors(),""!==this.passwordConfirmationValue&&(this.passwordConfirmationValidated=this.passwordValue===this.passwordConfirmationValue,this.handlePasswordConfirmationErrors())},handleConfirmedPassword:function(e){this.passwordConfirmationValue=e,this.passwordConfirmationValidated=this.passwordValue===this.passwordConfirmationValue,this.handlePasswordConfirmationErrors(),""!==this.passwordValue&&(this.passwordValidated=this.validatePassword(this.passwordValue),this.handlePasswordErrors())},handleError:function(e){var t=this;if("object"===(0,n.A)(e)&&"response"in e&&"status"in e.response&&"data"in e.response&&e.response.status>=500&&"object"===(0,n.A)(e.response.data)&&e.response.headers["content-type"].includes("application/json"))this.addError({namespace:"modal-login",msg:l.ec.LOGIN_SERVER_ERROR,status:e.response.status,statusText:e.response.data.message});else if("object"===(0,n.A)(e)&&"response"in e&&"status"in e.response&&"data"in e.response&&"name"in e&&e.response.status<500&&"AxiosError"===e.name){var r=[],a=e.response.data;if(Object.keys(a).length>0)Object.values(a).forEach(function(e){Array.isArray(e)?e.forEach(function(e){r.push(e)}):"string"==typeof e&&r.push(e)}),r.length>0&&r.forEach(function(e){t.addError({namespace:"modal-login",msg:e})})}else"object"===(0,n.A)(e)&&"response"in e&&"status"in e.response&&"statusText"in e.response?this.addError({namespace:"modal-login",msg:l.ec.LOGIN_SERVER_ERROR,status:e.response.status,statusText:e.response.statusText}):"string"==typeof e&&this.addError({namespace:"modal-login",msg:e})},LSSaveLoginEmail:function(){this.emailValidated&&this.emailValue&&c.save({key:this.localStorageLoginKeyName,value:this.emailValue})},LSDeleteLoginEmail:function(){c.delete(this.localStorageLoginKeyName),this.$store.commit("loginModal/setRememberMe",!1)},LSLoadLoginEmail:function(){var e=c.load(this.localStorageLoginKeyName);e&&(0,s.Ay)(e.value)?(this.emailValue=e.value,this.emailValidated=!0,this.rememberMe=!0,this.$store.commit("loginModal/setLoginEmail",e.value),this.$store.commit("loginModal/setRememberMe",!0)):e&&!(0,s.Ay)(e.value)&&(this.LSDeleteLoginEmail(),this.rememberMe=!1)},setRememberMe:function(e){this.$store.commit("loginModal/setRememberMe",e),e?this.LSSaveLoginEmail():this.LSDeleteLoginEmail()},saveLSEmailOnChange:function(){this.emailValidated&&this.rememberMe&&this.LSSaveLoginEmail()},passwordEmptyError:function(e){e?this.removeErrorByMsg({namespace:"modal-login",msg:l.ec.LOGIN_PASSWORD_EMPTY}):this.addError({namespace:"modal-login",msg:l.ec.LOGIN_PASSWORD_EMPTY})},emailEmptyError:function(e){e?this.removeErrorByMsg({namespace:"modal-login",msg:l.ec.LOGIN_EMAIL_EMPTY}):this.addError({namespace:"modal-login",msg:l.ec.LOGIN_EMAIL_EMPTY})}}};const m=d},8655(e,t,r){r(1392)({target:"Number",stat:!0},{isInteger:r(9109)})},9012(e,t,r){r.d(t,{A:()=>i});r(3772),r(3754),r(5968),r(4607);var n=function(){var e=this,t=e._self._c;return t("div",{class:["input-labeled-wrapper",e.classCustom],attrs:{id:e.cid}},[t("div",{class:["input-labeled","input-labeled--".concat(e.alignment),"input-labeled--".concat(e.type),e.disabledClass]},["checkbox"===e.inputType?t("input",{directives:[{name:"model",rawName:"v-model",value:e.value,expression:"value"}],ref:"".concat(e.cid,"__input"),style:"paddingRight: calc(".concat(e.buttonsWidth,"px + 0.25rem)"),attrs:{id:"".concat(e.cid,"__input"),placeholder:" ",disabled:e.disabled,type:"checkbox"},domProps:{checked:Array.isArray(e.value)?e._i(e.value,null)>-1:e.value},on:{keypress:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:(t.preventDefault(),t.stopPropagation(),e.onEnter(e.value))},click:function(e){e.preventDefault(),e.stopPropagation()},blur:function(t){return e.onBlur(e.value)},change:function(t){var r=e.value,n=t.target,a=!!n.checked;if(Array.isArray(r)){var s=e._i(r,null);n.checked?s<0&&(e.value=r.concat([null])):s>-1&&(e.value=r.slice(0,s).concat(r.slice(s+1)))}else e.value=a}}}):"radio"===e.inputType?t("input",{directives:[{name:"model",rawName:"v-model",value:e.value,expression:"value"}],ref:"".concat(e.cid,"__input"),style:"paddingRight: calc(".concat(e.buttonsWidth,"px + 0.25rem)"),attrs:{id:"".concat(e.cid,"__input"),placeholder:" ",disabled:e.disabled,type:"radio"},domProps:{checked:e._q(e.value,null)},on:{keypress:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:(t.preventDefault(),t.stopPropagation(),e.onEnter(e.value))},click:function(e){e.preventDefault(),e.stopPropagation()},blur:function(t){return e.onBlur(e.value)},change:function(t){e.value=null}}}):t("input",{directives:[{name:"model",rawName:"v-model",value:e.value,expression:"value"}],ref:"".concat(e.cid,"__input"),style:"paddingRight: calc(".concat(e.buttonsWidth,"px + 0.25rem)"),attrs:{id:"".concat(e.cid,"__input"),placeholder:" ",disabled:e.disabled,type:e.inputType},domProps:{value:e.value},on:{keypress:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:(t.preventDefault(),t.stopPropagation(),e.onEnter(e.value))},click:function(e){e.preventDefault(),e.stopPropagation()},blur:function(t){return e.onBlur(e.value)},input:function(t){t.target.composing||(e.value=t.target.value)}}}),e._v(" "),t("label",{attrs:{for:"".concat(e.cid,"__input")}},[e._v(e._s(e.label))])]),e._v(" "),e.buttonsAvailable?t("div",{ref:"inputButtonGroup"+e.cid,staticClass:"input-button-group"},[e.ifClearBtn?t("SuperButton",{attrs:{"button-text":"Reset field","button-type":"icon","icon-regular":"icon-x","class-regular":"button--transparent","class-selected":"button--transparent","class-custom":"button-clear-input",disabled:""===e.value},on:{"on-click":e.clearInput}}):e._e(),e._v(" "),"password"===e.type?t("SuperButton",{attrs:{"button-text":"Reveal password","button-type":"icon","icon-regular":"icon-eye-crossed","icon-selected":"icon-eye","class-regular":"button--transparent","class-selected":"button--transparent","class-custom":"button-reveal-password",disabled:e.disabled,selected:e.revealPass},on:{"on-click":function(t){e.revealPass=!e.revealPass}}}):e._e()],1):e._e()])};n._withStripped=!0;r(1192),r(9665);var a=r(8119);const s={name:"InputLabeled",components:{SuperButton:r(6919).A},mixins:[a.L],props:{uid:{type:String,default:null},type:{type:String,default:"text",validator:function(e){return["text","email","search","url","password"].some(function(t){return t===e})}},alignment:{type:String,default:"center",validator:function(e){return["left","center","right"].some(function(t){return t===e})}},clearBtn:{type:Boolean,default:!1},label:{type:String,default:"Input",required:!0},inputValue:{type:String,default:""},classCustom:{type:String,default:null},disabled:{type:Boolean,default:!1}},data:function(){return{revealPass:!1,value:"",buttonsWidth:0}},computed:{componentUID:function(){return null!==this.uid&&"input_".concat(this.uid)},inputType:function(){var e=this;return["text","email","search","url"].some(function(t){return t===e.type})?this.type:["password"].some(function(t){return t===e.type})?this.revealPass?"text":"password":"text"},disabledClass:function(){return!!this.$props.disabled&&"input-labeled--disabled"},buttonsAvailable:function(){return"password"===this.$props.type||this.$props.clearBtn},ifClearBtn:function(){return this.$props.clearBtn&&""!==this.value}},watch:{value:function(e){this.onAuto(e)},inputValue:function(e){this.value=e},ifClearBtn:function(){var e=this;this.$nextTick(function(){e.getButtonWrapWidth()})}},created:function(){this.value=this.$props.inputValue},mounted:function(){this.buttonsAvailable&&this.getButtonWrapWidth()},methods:{onEnter:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;this.$emit("on-enter",e)},onBlur:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;this.$emit("on-blur",e)},onAuto:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;this.$emit("on-auto",e)},clearInput:function(){this.value="",this.$refs["".concat(this.cid,"__input")].focus(),this.$emit("on-clear","")},getButtonWrapWidth:function(){this.buttonsWidth=Math.round(this.$refs["inputButtonGroup"+this.cid].getBoundingClientRect().width)},getAriaLabel:function(e){return{text:"Enter text",email:"Enter an email address",search:"Search",url:"Enter an URL",password:"Enter a password"}[e]||"Input field"}}},o=s;const i=(0,r(8598).A)(o,n,[],!1,null,null,null).exports},9109(e,t,r){var n=r(8804),a=Math.floor;e.exports=Number.isInteger||function(e){return!n(e)&&isFinite(e)&&a(e)===e}},9754(e,t,r){r.r(t),r.d(t,{default:()=>y});r(3754);var n=function(){var e=this,t=e._self._c;return t("div",{staticClass:"modal-inner-wrap modal-login"},[e._m(0),e._v(" "),t("div",{staticClass:"modal__content"},[t("form",{staticClass:"modal-form",attrs:{id:"formLogin"},on:{submit:function(e){e.preventDefault(),e.stopPropagation()}}},[t("InputLabeled",{attrs:{type:"email",label:"email",classCustom:"modal-email-field",alignment:"center",inputValue:e.loginEmail,disabled:e.loading},on:{"on-blur":e.handleEnteredEmail,"on-enter":e.attemptLogin}}),e._v(" "),t("InputLabeled",{directives:[{name:"show",rawName:"v-show",value:e.getUserType===e.userTypes.LOGIN_USER_TYPE_LOCAL,expression:"getUserType === userTypes.LOGIN_USER_TYPE_LOCAL"}],attrs:{type:"password",label:"password",classCustom:"modal-password-field",alignment:"center"},on:{"on-auto":e.savePasswordValue,"on-enter":e.loginWithPassword}}),e._v(" "),t("RememberMe",{attrs:{checked:e.getRememberMe,alignment:"center"},on:{"on-check":e.setRememberMe,"on-click":e.setRememberMe,keypress:[function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.setRememberMe.apply(null,arguments)},function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"space",32,t.key,[" ","Spacebar"])?null:e.setRememberMe.apply(null,arguments)}]}}),e._v(" "),t("div",{staticClass:"modal__button-group"},[t("SuperButton",{attrs:{id:"LoginButtonCancel","button-text":"Cancel"},on:{"on-click":function(t){return e.emitResponse("cancel")}}}),e._v(" "),t("SuperButton",{attrs:{id:"LoginButtonNext","button-text":"Next","class-regular":"button--ui","icon-position":"right","icon-regular":"icon-chevron-right",loading:e.loading,disabled:!e.emailValidated},on:{"on-click":e.attemptLoginClick}})],1),e._v(" "),t("ErrorStack",{attrs:{errors:e.errors}})],1),e._v(" "),t("div",{staticClass:"modal__text modal__text--center"},[e._v("\n      Don't have an account?\n      "),t("a",{attrs:{tabindex:"0",role:"button"},on:{click:function(t){return e.emitResponse("register")},keypress:[function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.emitResponse("register")},function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"space",32,t.key,[" ","Spacebar"])?null:e.emitResponse("register")}]}},[e._v("Register here")])])])])};n._withStripped=!0;var a=r(3994),s=r(6981),o=(r(2956),r(6282),r(6110),r(9665),r(7202),r(9217)),i=r(1904),l=r(253),u=r(9724),c=r(8119),d=r(6919),m=r(9012),p=r(7563),g=r(7463),h=(r(3772),r(5968),r(4607),function(){var e=this,t=e._self._c;return t("div",{class:["modal__remember-me","align--"+e.alignment]},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.selected,expression:"selected"}],attrs:{id:"rememberMe",type:"checkbox",disabled:e.disabled},domProps:{checked:Array.isArray(e.selected)?e._i(e.selected,null)>-1:e.selected},on:{change:[function(t){var r=e.selected,n=t.target,a=!!n.checked;if(Array.isArray(r)){var s=e._i(r,null);n.checked?s<0&&(e.selected=r.concat([null])):s>-1&&(e.selected=r.slice(0,s).concat(r.slice(s+1)))}else e.selected=a},function(t){return e.onSelect(t)}]}}),e._v(" "),t("label",{class:{"label--disabled":e.disabled},attrs:{for:"rememberMe"}},[e._v("Remember me")])])});h._withStripped=!0;r(1192);const f={name:"RememberMe",props:{disabled:{type:Boolean,default:!1},checked:{type:Boolean,default:!1},alignment:{type:String,default:"center",validator:function(e){return["left","center","right"].some(function(t){return t===e})}}},data:function(){return{selected:this.$props.checked}},watch:{checked:function(e){this.selected=e}},methods:{onSelect:function(e){this.selected=e.target.checked,this.$emit("on-check",this.selected)}}};var v=r(8598);const E=(0,v.A)(f,h,[],!1,null,null,null).exports,_={name:"CardLoginEmail",components:{SuperButton:d.A,ErrorStack:g.A,InputLabeled:m.A,RememberMe:E},mixins:[p.A,c.A],computed:{userTypes:function(){return i.N_},getUserType:function(){return this.$store.getters["loginModal/getUserType"]},isLoginEnabled:function(){return this.emailValidated&&""!==this.passwordValue}},created:function(){this.LSLoadLoginEmail()},mounted:function(){var e=this;return(0,s.A)((0,a.A)().m(function t(){return(0,a.A)().w(function(t){for(;;)switch(t.n){case 0:e.$nextTick((0,s.A)((0,a.A)().m(function e(){return(0,a.A)().w(function(e){for(;;)switch(e.n){case 0:return e.n=1,(0,l.A)('#formLogin input[type="email"]');case 1:return e.a(2)}},e)})));case 1:return t.a(2)}},t)}))()},methods:{savePasswordValue:function(e){this.passwordValue=e},checkUserTypeByEmail:function(){var e=this;return(0,s.A)((0,a.A)().m(function t(){var r,n,s,l;return(0,a.A)().w(function(t){for(;;)switch(t.p=t.n){case 0:if(!e.emailValidated){t.n=5;break}return e.$store.commit("loginModal/setLoginEmail",e.emailValue),e.loading=!0,t.p=1,t.n=2,o.A.post("".concat(e.portalUrl,"/user/account-type"),{email:e.emailValue});case 2:return r=t.v,n=r.data.account_type,s=r.data.login_urls,e.$store.getters["errorStack/checkIfStackedErrorExists"]({namespace:"modal-login",msg:i.ec.LOGIN_SERVER_ERROR})&&e.removeErrorByMsg({namespace:"modal-login",msg:i.ec.LOGIN_SERVER_ERROR}),e.$store.commit("loginModal/setUserType",n),e.$store.commit("loginModal/setLoginURLs",s),n!==i.N_.LOGIN_USER_TYPE_ENTERPRISE&&(e.loading=!1),e.saveLSEmailOnChange(),t.a(2,{account_type:n,login_urls:s});case 3:throw t.p=3,l=t.v,e.loading=!1,l;case 4:return t.p=4,e.loading=!1,t.f(4);case 5:return t.a(2)}},t,null,[[1,3,4,5]])}))()},loginWithPassword:function(e){var t=this;return(0,s.A)((0,a.A)().m(function r(){var n,s,l;return(0,a.A)().w(function(r){for(;;)switch(r.p=r.n){case 0:if(t.emailEmptyError(t.emailValue),t.passwordEmptyError(e),e&&t.emailValue){r.n=1;break}return r.a(2);case 1:if(!t.isLoginEnabled){r.n=6;break}return t.loading=!0,r.p=2,r.n=3,o.A.post("".concat(t.$store.getters["user/getPortalURL"],"/user/login"),{email:t.emailValue,password:e});case 3:s=r.v,(null===(n=s.data)||void 0===n?void 0:n._messages.length)>0&&s.data._messages.forEach(function(e){t.$store.commit("sharedMessages/addPopupMessage",{type:e.level,title:e.level,text:e.message,announce:e.message}),"error"===e.level?console.error(e.message):console.info(e.message)}),t.$store.commit("user/setUserData",s.data),t.$store.dispatch("subscriptions/fetchUserSubscriptions"),t.removeErrorByMsg({namespace:"modal-login",msg:i.ec.LOGIN_SERVER_ERROR}),t.$store.commit("structure/setWholeGroupAvailability",{groupName:u.A.TOOL_GROUP_USER,availability:!0}),"enterprise"===t.$store.getters.getUserAccountType&&t.$store.commit("structure/setToolAvailabilityByName",{name:u.A.TOOL_USER_PASSWORD,available:!1}),t.$nextTick(function(){t.emitResponse("done")}),r.n=5;break;case 4:r.p=4,l=r.v,t.handleError(l);case 5:return r.p=5,t.loading=!1,r.f(5);case 6:return r.a(2)}},r,null,[[2,4,5,6]])}))()},attemptLogin:function(e){var t=this;return(0,s.A)((0,a.A)().m(function r(){var n;return(0,a.A)().w(function(r){for(;;)switch(r.p=r.n){case 0:return r.n=1,t.handleEnteredEmail(e);case 1:if(!t.emailValidated){r.n=8;break}return r.p=2,r.n=3,t.checkUserTypeByEmail();case 3:if(r.v.account_type!==i.N_.LOGIN_USER_TYPE_ENTERPRISE){r.n=4;break}t.emitResponse("login"),r.n=5;break;case 4:return r.n=5,(0,l.A)('#formLogin input[type="password"]');case 5:if(""===t.passwordValue||t.getUserType!==i.N_.LOGIN_USER_TYPE_LOCAL){r.n=6;break}return r.n=6,t.loginWithPassword(t.passwordValue);case 6:r.n=8;break;case 7:r.p=7,n=r.v,t.handleError(n);case 8:return r.a(2)}},r,null,[[2,7]])}))()},attemptLoginClick:function(){var e=this;return(0,s.A)((0,a.A)().m(function t(){return(0,a.A)().w(function(t){for(;;)switch(t.n){case 0:return t.n=1,e.attemptLogin(e.emailValue);case 1:return t.a(2)}},t)}))()}}};const y=(0,v.A)(_,n,[function(){var e=this._self._c;return e("header",{staticClass:"modal__header"},[e("h2",{attrs:{id:"modalDialogHeading"}},[this._v("\n      Login\n    ")])])}],!1,null,null,null).exports}}]);