"use strict";(self.webpackChunkpartner_us_nsn_menominee_legislature=self.webpackChunkpartner_us_nsn_menominee_legislature||[]).push([[273],{1951(e,t,n){n.r(t),n.d(t,{default:()=>g});var i=function(){var e=this,t=e._self._c;return t("section",{staticClass:"area__tool__content tree-menu",attrs:{id:"grid-sidebar__content",role:"tabpanel","aria-describedby":"grid-sidebar__header"}},[t("div",{staticClass:"tool__content scroll-y"},[t("TreeNav",{attrs:{label:"Print documents",node:e.fullTree,"node-ui-suffix":"print"}})],1),e._v(" "),t("footer",{staticClass:"tool__footer"},[t("SuperButton",{attrs:{id:"BtnPrint","button-text":"Print","icon-regular":"icon-print","class-regular":"button--ui",counter:e.printCounter,disabled:e.isPrintDisabled},on:{"on-click":e.initPrint}}),e._v(" "),t("SuperButton",{attrs:{id:"BtnReset","button-text":"Reset","class-regular":"button--outline",disabled:e.isPrintDisabled},on:{"on-click":e.printReset}}),e._v(" "),t("SuperButton",{directives:[{name:"tooltip",rawName:"v-tooltip",value:e.tip("Collapse tree"),expression:"tip('Collapse tree')"}],attrs:{id:"BtnCollapse","button-type":"icon","button-text":"Collapse tree","icon-regular":"icon-contract","class-regular":"button--outline",disabled:!e.ifSomeNodesExpanded},on:{"on-click":e.collapseTree}}),e._v(" "),t("PrintPopup",{attrs:{open:e.open,loading:e.loading,content:e.content,test:e.testModifier},on:{"popup-closed":e.onPopupClose}})],1)])};i._withStripped=!0;var r=n(3994),o=n(1083),s=n(6981),a=(n(3814),n(9724)),u=n(8119),l=n(3680),c=n(6919),d=n(369),p=n(5568),h=function(){var e=this,t=e._self._c;return e.open?t("div",{class:e.documentNamespace,attrs:{id:"section__content"}},[t("div",{class:e.documentNamespace,attrs:{id:"section__content__inner"}},[t("main",{class:e.documentNamespace,attrs:{id:"area__content"}},[t("article",{staticClass:"content",attrs:{role:"document"}},[e.loading?t("div",{staticClass:"tuf-authenticate"},[t("h1",[e._v("loading...")]),e._v(" "),t("h2",[e._v(e._s(e.loadingPercentage)+"%")])]):t("div",{staticClass:"tuf-authenticate",domProps:{innerHTML:e._s(e.content)}})])])])]):e._e()};h._withStripped=!0;n(3772),n(1097),n(3636),n(5293);const f={name:"PrintPopup",props:{open:{type:Boolean,default:!1},loading:{type:Boolean,default:!0},test:{type:Boolean,default:!1},content:String},data:function(){return{windowRef:null}},computed:{loadingPercentage:function(){return this.$store.getters["printShare/getProcessedPercentage"]},documentNamespace:function(){return this.$store.getters["document/getCurrentDocumentNamespace"]},libraryName:function(){return this.$store.getters["documentData/getLibraryTitle"]}},watch:{open:function(e){e?this.openPopup():this.closePopup()},loading:function(e){!1===e&&setTimeout(this.printAndClose,300)}},mounted:function(){this.open&&this.openPopup()},beforeDestroy:function(){this.windowRef&&this.closePopup()},methods:{openPopup:function(){var e=window.screen.availWidth,t=Math.min(1024,Math.floor(.8*e)),n=Math.floor((e-t)/2);this.windowRef=window.open("","_blank","width=".concat(t,",height=800,left=").concat(n,",top=25")),this.windowRef.document.title=this.libraryName,this.$store.dispatch("printShare/copyStyles",{source:window.document,destination:this.windowRef.document}),this.windowRef.document.body.appendChild(this.$el),this.windowRef.addEventListener("beforeunload",this.closePopup)},printAndClose:function(){this.$props.test||this.windowRef.print(),this.closePopup()},closePopup:function(){this.windowRef&&(this.windowRef.close(),this.windowRef=null,this.$emit("popup-closed"))}}};var m=n(8598);const v=(0,m.A)(f,h,[],!1,null,null,null).exports,_={name:a.A.TOOL_DOCUMENT_PRINT,components:{TreeNav:l.A,SuperButton:c.A,PrintPopup:v},mixins:[d.A,p.v,u.A],data:function(){return{open:!1,loading:!1,testModifier:!1,content:""}},computed:{fullTree:function(){return this.$store.getters["documentData/getFullJSONTree"]},nodesSelectedForPrint:function(){return this.$store.getters["documentData/getFullySelectedPrintUrls"]||[]},printNo:function(){return this.nodesSelectedForPrint.length},printCounter:function(){return"number"==typeof this.printNo&&this.printNo>0?this.printNo:null},isPrintDisabled:function(){return 0===this.nodesSelectedForPrint.length},ifSomeNodesExpanded:function(){return this.$store.getters["documentData/getIfSomeNodesExpanded"]}},created:function(){this.$store.commit("documentData/expandImmediateChildren")},methods:{printDocuments:function(){console.log("printDocuments")},printReset:function(){this.$store.commit("documentData/resetPrintCheckbox")},collapseTree:function(){this.$store.commit("documentData/collapseTree"),this.$store.commit("documentData/expandImmediateChildren")},onPopupClose:function(){this.open=!1,this.loading=!0,this.content=""},initPrint:function(e){var t=this;return(0,s.A)((0,r.A)().m(function n(){var i,s,a,u,l,c,d,p,h,f,m,v;return(0,r.A)().w(function(n){for(;;)switch(n.p=n.n){case 0:t.testModifier="ctrl"===e.modifier,t.open=!0,t.loading=!0,t.$store.commit("sharedMessages/addPopupMessage",{type:"info",title:"Preparing documents",text:"We are preparing documents for print. Please wait.",announce:"We are preparing documents for print. Please wait.",timeout:2e3}),t.$store.commit("printShare/resetCachedData"),i=0,s=(0,o.A)(t.nodesSelectedForPrint),n.p=1,s.s();case 2:if((a=s.n()).done){n.n=5;break}return u=a.value,n.n=3,t.$store.dispatch("printShare/preparePrintDocument",u);case 3:i+=1,t.$store.commit("printShare/setProcessedPercentage",Math.round(i/t.nodesSelectedForPrint.length*100));case 4:n.n=2;break;case 5:n.n=7;break;case 6:n.p=6,v=n.v,s.e(v);case 7:return n.p=7,s.f(),n.f(7);case 8:l=t.$store.getters["printShare/getFetchedFullHTMLs"],c=t.$store.getters["printShare/getProcessedPrintDocuments"],d=l[Object.keys(l)[0]],(p=d.getElementById("area__content")).innerHTML="",h=(0,o.A)(c||[]);try{for(h.s();!(f=h.n()).done;)m=f.value,p.innerHTML+=m.innerHTML}catch(e){h.e(e)}finally{h.f()}t.content=p.innerHTML,t.loading=!1;case 9:return n.a(2)}},n,null,[[1,6,7,8]])}))()}}};const g=(0,m.A)(_,i,[],!1,null,null,null).exports},3680(e,t,n){n.d(t,{A:()=>m});n(3754);var i=function(){var e=this,t=e._self._c;return t("nav",{staticClass:"nav-tree"},[t("ul",{attrs:{role:"tree","aria-label":e.label},on:{keydown:[function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"down",40,t.key,["Down","ArrowDown"])?null:(t.preventDefault(),e.keyDown(t))},function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"up",38,t.key,["Up","ArrowUp"])?null:(t.preventDefault(),e.keyUp(t))},function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"right",39,t.key,["Right","ArrowRight"])||"button"in t&&2!==t.button?null:(t.preventDefault(),e.keyRight(t))},function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"left",37,t.key,["Left","ArrowLeft"])||"button"in t&&0!==t.button?null:(t.preventDefault(),e.keyLeft(t))},function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:(t.preventDefault(),e.keyEnter(t))},function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"space",32,t.key,[" ","Spacebar"])?null:(t.preventDefault(),e.keySpace(t))},function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"home",void 0,t.key,void 0)?null:(t.preventDefault(),e.keyHome(t))},function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"end",void 0,t.key,void 0)?null:(t.preventDefault(),e.keyEnd(t))},function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"multiply",void 0,t.key,void 0)?null:(t.preventDefault(),e.keyMultiply(t))},function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"pgup",void 0,t.key,void 0)?null:(t.preventDefault(),e.keyPageUp(t))},function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"pgdn",void 0,t.key,void 0)?null:(t.preventDefault(),e.keyPageDown(t))}]}},[t("TreeNode",{key:e.node.p+"|".concat(e.nodeUiSuffix,"_node"),ref:e.node.p+"|".concat(e.nodeUiSuffix,"_node"),attrs:{node:e.node,"node-ui-suffix":e.nodeUiSuffix}})],1)])};i._withStripped=!0;var r=n(3994),o=n(6981),s=(n(3772),n(5968),n(4607),function(){var e=this,t=e._self._c;return e.isSubheading?e._e():t("li",{class:["nav-tree__list",e.classListExpanded],attrs:{role:"treeitem","aria-expanded":e.ariaExpanded,"data-url":e.node.p||!1,tabindex:"0"}},[t("div",{staticClass:"nav-tree__list__item"},[t("div",{staticClass:"nav-tree__list__item__toggle"},[e.expandable?t("SuperButton",{attrs:{"button-text":e.toggleText,"button-type":"icon","class-regular":"button--transparent","class-selected":"button--transparent","class-custom":"button--no-outline","icon-regular":"icon-chevron-right","icon-selected":"icon-chevron-down",loading:e.loading,selected:e.expanded},on:{"on-click":e.showChildren}}):e._e()],1),e._v(" "),e.selectable?t("div",{staticClass:"nav-tree__list__item__checkbox"},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.selected,expression:"selected"},{name:"checkbox-indeterminate",rawName:"v-checkbox-indeterminate",value:e.isIndeterminate,expression:"isIndeterminate"}],attrs:{type:"checkbox","data-node-url":e.node.p,"aria-labelledby":e.nodeId(e.node)},domProps:{checked:Array.isArray(e.selected)?e._i(e.selected,null)>-1:e.selected},on:{change:[function(t){var n=e.selected,i=t.target,r=!!i.checked;if(Array.isArray(n)){var o=e._i(n,null);i.checked?o<0&&(e.selected=n.concat([null])):o>-1&&(e.selected=n.slice(0,o).concat(n.slice(o+1)))}else e.selected=r},function(t){return e.onSelect(t)}]}})]):e._e(),e._v(" "),t("div",{staticClass:"nav-tree__list__item__title"},[t(e.titleComponentType,{tag:"component",class:[{active:e.isActive}],attrs:{title:e.title,href:e.node.p||!1,id:e.nodeId(e.node)},on:{click:function(t){return t.preventDefault(),e.loadLink.apply(null,arguments)}}},[e._v("\n        "+e._s(e.title)+"\n      ")])],1)]),e._v(" "),"c"in e.node&&e.expanded?t("ul",{staticClass:"nav-tree__list__group",attrs:{role:"group"}},e._l(e.node.c,function(n){return t("TreeNode",{key:e.refID(n),ref:e.refID(n),refInFor:!0,attrs:{node:n,"node-ui-suffix":e.nodeUiSuffix}})}),1):e._e()])});s._withStripped=!0;n(6269);var a=n(6919),u=n(2187),l=n(8284);const c={name:"TreeNode",components:{SuperButton:a.A},props:{node:{type:Object,required:!0},nodeUiSuffix:{type:String,required:!0}},data:function(){var e,t=this.$store.state.documentData.uiState.get(this.$props.node.p);return{loading:!1,selected:null!==(e=null==t?void 0:t["selected_"+this.$props.nodeUiSuffix])&&void 0!==e&&e}},computed:{expandable:function(){return"j"in this.$props.node&&"p"in this.$props.node||"c"in this.$props.node&&Array.isArray(this.$props.node.c)&&this.$props.node.c.length>0},expanded:function(){var e;if(!this.expandable)return null;var t=this.$store.state.documentData.uiState.get(this.node.p);return null!==(e=null==t?void 0:t.expanded)&&void 0!==e&&e},ariaExpanded:function(){return"boolean"==typeof this.expanded&&String(this.expanded)},classListExpanded:function(){return this.expanded?"nav-tree__list--expanded":"nav-tree__list--contracted"},shouldLoadChildren:function(){return"j"in this.$props.node&&"p"in this.$props.node&&!("c"in this.$props.node)},toggleText:function(){return this.expanded?"Close section":"Open section"},title:function(){return"x"in this.$props.node?this.$props.node.t+" "+this.$props.node.x:this.$props.node.t},selectable:function(){return"print"===this.nodeUiSuffix?this.$store.getters["documentData/isPrintableUrl"](this.node.p):this.node.p&&""!==this.node.p},isSelected:function(){var e;if(!this.selectable)return null;var t=this.$store.state.documentData.uiState.get(this.node.p);return null!==(e=null==t?void 0:t["selected_"+this.nodeUiSuffix])&&void 0!==e&&e},isSubheading:function(){return"et"in this.$props.node&&"subheading"===this.$props.node.et},isAnchor:function(){return Boolean(Object.hasOwn(this.$props.node,"u")&&!0!==this.$props.node.u||Object.hasOwn(this.$props.node,"p")&&""!==this.$props.node.p)},isActive:function(){var e=(0,u.A)(this.$store.getters["document/getCurrentDocument"].url);return!!this.node.p&&(0,u.A)(this.node.p)===e},titleComponentType:function(){return this.isAnchor?"a":"span"},isIndeterminate:function(){var e=this.$store.state.documentData.uiState.get(this.node.p);return!(!e||!Object.hasOwn(e,"indeterminate_"+this.nodeUiSuffix))&&e["indeterminate_"+this.nodeUiSuffix]},isMobileBrowser:function(){return this.$store.getters["sharedDetection/isMobileBrowser"]}},watch:{isSelected:function(e,t){e!==t&&(this.selected=e)}},methods:{refID:function(e){return e.p?e.p+"|".concat(this.$props.nodeUiSuffix,"_node"):this.node.p+"|"+(0,l.A)(e.t)},nodeId:function(e){return"node|"+this.refID(e)},showChildren:function(){var e=this;return(0,o.A)((0,r.A)().m(function t(){var n;return(0,r.A)().w(function(t){for(;;)switch(t.p=t.n){case 0:if(!e.shouldLoadChildren){t.n=4;break}return t.p=1,t.n=2,e.loadChildren();case 2:t.n=4;break;case 3:t.p=3,n=t.v,console.error(n);case 4:e.$store.commit("documentData/updateUIStateProperty",{url:e.node.p,key:"expanded",value:!e.expanded});case 5:return t.a(2)}},t,null,[[1,3]])}))()},loadChildren:function(){var e=this;return(0,o.A)((0,r.A)().m(function t(){var n;return(0,r.A)().w(function(t){for(;;)switch(t.p=t.n){case 0:if(!e.shouldLoadChildren){t.n=5;break}return e.loading=!0,t.p=1,t.n=2,e.$store.dispatch("documentData/loadToCSubtree",e.$props.node);case 2:t.n=4;break;case 3:t.p=3,n=t.v,console.error(n);case 4:return t.p=4,e.loading=!1,t.f(4);case 5:return t.a(2)}},t,null,[[1,3,4,5]])}))()},loadLink:function(){var e=this;return(0,o.A)((0,r.A)().m(function t(){var n,i,o;return(0,r.A)().w(function(t){for(;;)switch(t.n){case 0:return t.n=1,e.showChildren();case 1:if(e.isMobileBrowser){t.n=3;break}if(n=e,i=e.node.p,o=document.getElementById("main-content"),i===n.$route.path){t.n=3;break}return"mobile"!==n.$mq&&"phablet"!==n.$mq||n.$store.commit("structure/setMainMenuOpen",!1),t.n=2,n.$store.dispatch("app/loadDocument",{url:i,skipScroll:!0});case 2:o&&o.focus();case 3:return t.a(2)}},t)}))()},onSelect:function(e){this.$store.dispatch("documentData/setTreeNavCheckbox",{p:this.$props.node.p,value:this.selected,suffix:this.$props.nodeUiSuffix})}}};var d=n(8598);const p=(0,d.A)(c,s,[],!1,null,null,null).exports;const h=function(e,t){if(!e)return null;for(;e;){if(e.matches(t))return e;e=e.parentElement}return null},f={name:"TreeNav",components:{TreeNode:p},props:{nodeUiSuffix:{type:String,required:!0},node:{type:Object,required:!0},label:{type:String,required:!0}},data:function(){return{localEvent:null,eventUrl:null}},computed:{expandable:function(){return"j"in this.$props.node&&"p"in this.$props.node||"c"in this.$props.node},expanded:function(){return this.expandable?this.$props.node.ui_expanded:null},title:function(){return this.$props.node.t||"Law Library"},flatTreeUrl:function(){return this.$store.getters["documentData/getFlatTreeUrl"]},treeItem:function(){return h(this.localEvent.target,".nav-tree__list")},treeItemUrl:function(){return this.treeItem?this.treeItem.dataset.url:null},treeItemNextSibling:function(){return"nextElementSibling"in this.treeItem&&Boolean(this.treeItem.nextElementSibling)?this.treeItem.nextElementSibling:null},treeItemPreviousSibling:function(){return"previousElementSibling"in this.treeItem&&Boolean(this.treeItem.previousElementSibling)?this.treeItem.previousElementSibling:null},treeItemFirstSibling:function(){return"parentElement"in this.treeItem&&Boolean(this.treeItem.parentElement.firstElementChild)?this.treeItem.parentElement.firstElementChild:null},treeItemLastSibling:function(){return"parentElement"in this.treeItem&&Boolean(this.treeItem.parentElement.lastElementChild)?this.treeItem.parentElement.lastElementChild:null},treeItemFirstChild:function(){return this.treeItem.querySelector(".nav-tree__list__group li:first-child")||null},treeItemParent:function(){return h(this.treeItem.parentElement,".nav-tree__list")||null},isTreeItemExpanded:function(){return"true"===this.treeItem.getAttribute("aria-expanded")},treeItemExpandButton:function(){return this.treeItem.querySelector(".nav-tree__list__item__toggle button")||null},treeItemAnchor:function(){return this.treeItem.querySelector(".nav-tree__list__item__title a")||null},treeItemCheckbox:function(){return document.querySelector('[data-url="'.concat(this.eventUrl,'"] >.nav-tree__list__item input[type="checkbox"]'))||null}},methods:{saveEvent:function(e){this.localEvent=e,this.eventUrl=e.target.getAttribute("data-url")||null},keyDown:function(e){this.saveEvent(e),this.treeItemNextSibling&&this.treeItemNextSibling.focus()},keyUp:function(e){this.saveEvent(e),this.treeItemPreviousSibling&&this.treeItemPreviousSibling.focus()},keyRight:function(e){this.saveEvent(e),!this.isTreeItemExpanded&&this.treeItemExpandButton?this.treeItemExpandButton.click():this.isTreeItemExpanded&&this.treeItemFirstChild&&this.treeItemFirstChild.focus()},keyLeft:function(e){this.saveEvent(e),this.isTreeItemExpanded&&this.treeItemExpandButton?this.treeItemExpandButton.click():this.treeItemParent&&this.treeItemParent.focus()},keyEnter:function(e){this.saveEvent(e),this.treeItemExpandButton?this.treeItemExpandButton.click():this.treeItemCheckbox&&this.treeItemCheckbox.click()},keySpace:function(e){this.saveEvent(e),this.treeItemCheckbox&&this.treeItemCheckbox.click()},keyHome:function(e){this.saveEvent(e);var t=document.querySelector(".nav-tree > ul > li:first-child")||null;t?(t.focus(),this.$announcer.set("First tree item focused")):console.error("First focusable node not found, unable to move focus")},keyEnd:function(e){this.saveEvent(e);var t=function(e){var n=e.querySelectorAll(".nav-tree__list--contracted")||null;return n&&n.length>0?t(n[n.length-1]):e},n=document.querySelector(".nav-tree > ul > li:first-child")||null,i=t(n);i?(i.focus(),this.$announcer.set("Last tree item focused")):console.error("Last focusable node not found, unable to move focus")},keyMultiply:function(e){var t=this;return(0,o.A)((0,r.A)().m(function n(){return(0,r.A)().w(function(n){for(;;)switch(n.n){case 0:return t.saveEvent(e),n.n=1,t.$store.dispatch("documentData/expandAllTreeSiblings",t.treeItem.getAttribute("data-url"));case 1:t.$announcer.set("All sibling tree items expanded");case 2:return n.a(2)}},n)}))()},keyPageUp:function(e){this.saveEvent(e),this.treeItemFirstSibling?(this.treeItemFirstSibling.focus(),this.$announcer.set("Selected first item in group")):console.error("First sibling not found, unable to move focus")},keyPageDown:function(e){this.saveEvent(e),this.treeItemLastSibling?(this.treeItemLastSibling.focus(),this.$announcer.set("Selected last item in group")):console.error("Last sibling not found, unable to move focus")}}};const m=(0,d.A)(f,i,[],!1,null,null,null).exports}}]);