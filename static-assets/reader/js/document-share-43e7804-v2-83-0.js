"use strict";(self.webpackChunkpartner_us_nsn_menominee_legislature=self.webpackChunkpartner_us_nsn_menominee_legislature||[]).push([[29],{3680(e,t,n){n.d(t,{A:()=>m});n(3754);var r=function(){var e=this,t=e._self._c;return t("nav",{staticClass:"nav-tree"},[t("ul",{attrs:{role:"tree","aria-label":e.label},on:{keydown:[function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"down",40,t.key,["Down","ArrowDown"])?null:(t.preventDefault(),e.keyDown(t))},function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"up",38,t.key,["Up","ArrowUp"])?null:(t.preventDefault(),e.keyUp(t))},function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"right",39,t.key,["Right","ArrowRight"])||"button"in t&&2!==t.button?null:(t.preventDefault(),e.keyRight(t))},function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"left",37,t.key,["Left","ArrowLeft"])||"button"in t&&0!==t.button?null:(t.preventDefault(),e.keyLeft(t))},function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:(t.preventDefault(),e.keyEnter(t))},function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"space",32,t.key,[" ","Spacebar"])?null:(t.preventDefault(),e.keySpace(t))},function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"home",void 0,t.key,void 0)?null:(t.preventDefault(),e.keyHome(t))},function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"end",void 0,t.key,void 0)?null:(t.preventDefault(),e.keyEnd(t))},function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"multiply",void 0,t.key,void 0)?null:(t.preventDefault(),e.keyMultiply(t))},function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"pgup",void 0,t.key,void 0)?null:(t.preventDefault(),e.keyPageUp(t))},function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"pgdn",void 0,t.key,void 0)?null:(t.preventDefault(),e.keyPageDown(t))}]}},[t("TreeNode",{key:e.node.p+"|".concat(e.nodeUiSuffix,"_node"),ref:e.node.p+"|".concat(e.nodeUiSuffix,"_node"),attrs:{node:e.node,"node-ui-suffix":e.nodeUiSuffix}})],1)])};r._withStripped=!0;var i=n(3994),o=n(6981),s=(n(3772),n(5968),n(4607),function(){var e=this,t=e._self._c;return e.isSubheading?e._e():t("li",{class:["nav-tree__list",e.classListExpanded],attrs:{role:"treeitem","aria-expanded":e.ariaExpanded,"data-url":e.node.p||!1,tabindex:"0"}},[t("div",{staticClass:"nav-tree__list__item"},[t("div",{staticClass:"nav-tree__list__item__toggle"},[e.expandable?t("SuperButton",{attrs:{"button-text":e.toggleText,"button-type":"icon","class-regular":"button--transparent","class-selected":"button--transparent","class-custom":"button--no-outline","icon-regular":"icon-chevron-right","icon-selected":"icon-chevron-down",loading:e.loading,selected:e.expanded},on:{"on-click":e.showChildren}}):e._e()],1),e._v(" "),e.selectable?t("div",{staticClass:"nav-tree__list__item__checkbox"},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.selected,expression:"selected"},{name:"checkbox-indeterminate",rawName:"v-checkbox-indeterminate",value:e.isIndeterminate,expression:"isIndeterminate"}],attrs:{type:"checkbox","data-node-url":e.node.p,"aria-labelledby":e.nodeId(e.node)},domProps:{checked:Array.isArray(e.selected)?e._i(e.selected,null)>-1:e.selected},on:{change:[function(t){var n=e.selected,r=t.target,i=!!r.checked;if(Array.isArray(n)){var o=e._i(n,null);r.checked?o<0&&(e.selected=n.concat([null])):o>-1&&(e.selected=n.slice(0,o).concat(n.slice(o+1)))}else e.selected=i},function(t){return e.onSelect(t)}]}})]):e._e(),e._v(" "),t("div",{staticClass:"nav-tree__list__item__title"},[t(e.titleComponentType,{tag:"component",class:[{active:e.isActive}],attrs:{title:e.title,href:e.node.p||!1,id:e.nodeId(e.node)},on:{click:function(t){return t.preventDefault(),e.loadLink.apply(null,arguments)}}},[e._v("\n        "+e._s(e.title)+"\n      ")])],1)]),e._v(" "),"c"in e.node&&e.expanded?t("ul",{staticClass:"nav-tree__list__group",attrs:{role:"group"}},e._l(e.node.c,function(n){return t("TreeNode",{key:e.refID(n),ref:e.refID(n),refInFor:!0,attrs:{node:n,"node-ui-suffix":e.nodeUiSuffix}})}),1):e._e()])});s._withStripped=!0;n(6269);var a=n(6919),l=n(2187),u=n(8284);const c={name:"TreeNode",components:{SuperButton:a.A},props:{node:{type:Object,required:!0},nodeUiSuffix:{type:String,required:!0}},data:function(){var e,t=this.$store.state.documentData.uiState.get(this.$props.node.p);return{loading:!1,selected:null!==(e=null==t?void 0:t["selected_"+this.$props.nodeUiSuffix])&&void 0!==e&&e}},computed:{expandable:function(){return"j"in this.$props.node&&"p"in this.$props.node||"c"in this.$props.node&&Array.isArray(this.$props.node.c)&&this.$props.node.c.length>0},expanded:function(){var e;if(!this.expandable)return null;var t=this.$store.state.documentData.uiState.get(this.node.p);return null!==(e=null==t?void 0:t.expanded)&&void 0!==e&&e},ariaExpanded:function(){return"boolean"==typeof this.expanded&&String(this.expanded)},classListExpanded:function(){return this.expanded?"nav-tree__list--expanded":"nav-tree__list--contracted"},shouldLoadChildren:function(){return"j"in this.$props.node&&"p"in this.$props.node&&!("c"in this.$props.node)},toggleText:function(){return this.expanded?"Close section":"Open section"},title:function(){return"x"in this.$props.node?this.$props.node.t+" "+this.$props.node.x:this.$props.node.t},selectable:function(){return"print"===this.nodeUiSuffix?this.$store.getters["documentData/isPrintableUrl"](this.node.p):this.node.p&&""!==this.node.p},isSelected:function(){var e;if(!this.selectable)return null;var t=this.$store.state.documentData.uiState.get(this.node.p);return null!==(e=null==t?void 0:t["selected_"+this.nodeUiSuffix])&&void 0!==e&&e},isSubheading:function(){return"et"in this.$props.node&&"subheading"===this.$props.node.et},isAnchor:function(){return Boolean(Object.hasOwn(this.$props.node,"u")&&!0!==this.$props.node.u||Object.hasOwn(this.$props.node,"p")&&""!==this.$props.node.p)},isActive:function(){var e=(0,l.A)(this.$store.getters["document/getCurrentDocument"].url);return!!this.node.p&&(0,l.A)(this.node.p)===e},titleComponentType:function(){return this.isAnchor?"a":"span"},isIndeterminate:function(){var e=this.$store.state.documentData.uiState.get(this.node.p);return!(!e||!Object.hasOwn(e,"indeterminate_"+this.nodeUiSuffix))&&e["indeterminate_"+this.nodeUiSuffix]},isMobileBrowser:function(){return this.$store.getters["sharedDetection/isMobileBrowser"]}},watch:{isSelected:function(e,t){e!==t&&(this.selected=e)}},methods:{refID:function(e){return e.p?e.p+"|".concat(this.$props.nodeUiSuffix,"_node"):this.node.p+"|"+(0,u.A)(e.t)},nodeId:function(e){return"node|"+this.refID(e)},showChildren:function(){var e=this;return(0,o.A)((0,i.A)().m(function t(){var n;return(0,i.A)().w(function(t){for(;;)switch(t.p=t.n){case 0:if(!e.shouldLoadChildren){t.n=4;break}return t.p=1,t.n=2,e.loadChildren();case 2:t.n=4;break;case 3:t.p=3,n=t.v,console.error(n);case 4:e.$store.commit("documentData/updateUIStateProperty",{url:e.node.p,key:"expanded",value:!e.expanded});case 5:return t.a(2)}},t,null,[[1,3]])}))()},loadChildren:function(){var e=this;return(0,o.A)((0,i.A)().m(function t(){var n;return(0,i.A)().w(function(t){for(;;)switch(t.p=t.n){case 0:if(!e.shouldLoadChildren){t.n=5;break}return e.loading=!0,t.p=1,t.n=2,e.$store.dispatch("documentData/loadToCSubtree",e.$props.node);case 2:t.n=4;break;case 3:t.p=3,n=t.v,console.error(n);case 4:return t.p=4,e.loading=!1,t.f(4);case 5:return t.a(2)}},t,null,[[1,3,4,5]])}))()},loadLink:function(){var e=this;return(0,o.A)((0,i.A)().m(function t(){var n,r,o;return(0,i.A)().w(function(t){for(;;)switch(t.n){case 0:return t.n=1,e.showChildren();case 1:if(e.isMobileBrowser){t.n=3;break}if(n=e,r=e.node.p,o=document.getElementById("main-content"),r===n.$route.path){t.n=3;break}return"mobile"!==n.$mq&&"phablet"!==n.$mq||n.$store.commit("structure/setMainMenuOpen",!1),t.n=2,n.$store.dispatch("app/loadDocument",{url:r,skipScroll:!0});case 2:o&&o.focus();case 3:return t.a(2)}},t)}))()},onSelect:function(e){this.$store.dispatch("documentData/setTreeNavCheckbox",{p:this.$props.node.p,value:this.selected,suffix:this.$props.nodeUiSuffix})}}};var d=n(8598);const h=(0,d.A)(c,s,[],!1,null,null,null).exports;const p=function(e,t){if(!e)return null;for(;e;){if(e.matches(t))return e;e=e.parentElement}return null},f={name:"TreeNav",components:{TreeNode:h},props:{nodeUiSuffix:{type:String,required:!0},node:{type:Object,required:!0},label:{type:String,required:!0}},data:function(){return{localEvent:null,eventUrl:null}},computed:{expandable:function(){return"j"in this.$props.node&&"p"in this.$props.node||"c"in this.$props.node},expanded:function(){return this.expandable?this.$props.node.ui_expanded:null},title:function(){return this.$props.node.t||"Law Library"},flatTreeUrl:function(){return this.$store.getters["documentData/getFlatTreeUrl"]},treeItem:function(){return p(this.localEvent.target,".nav-tree__list")},treeItemUrl:function(){return this.treeItem?this.treeItem.dataset.url:null},treeItemNextSibling:function(){return"nextElementSibling"in this.treeItem&&Boolean(this.treeItem.nextElementSibling)?this.treeItem.nextElementSibling:null},treeItemPreviousSibling:function(){return"previousElementSibling"in this.treeItem&&Boolean(this.treeItem.previousElementSibling)?this.treeItem.previousElementSibling:null},treeItemFirstSibling:function(){return"parentElement"in this.treeItem&&Boolean(this.treeItem.parentElement.firstElementChild)?this.treeItem.parentElement.firstElementChild:null},treeItemLastSibling:function(){return"parentElement"in this.treeItem&&Boolean(this.treeItem.parentElement.lastElementChild)?this.treeItem.parentElement.lastElementChild:null},treeItemFirstChild:function(){return this.treeItem.querySelector(".nav-tree__list__group li:first-child")||null},treeItemParent:function(){return p(this.treeItem.parentElement,".nav-tree__list")||null},isTreeItemExpanded:function(){return"true"===this.treeItem.getAttribute("aria-expanded")},treeItemExpandButton:function(){return this.treeItem.querySelector(".nav-tree__list__item__toggle button")||null},treeItemAnchor:function(){return this.treeItem.querySelector(".nav-tree__list__item__title a")||null},treeItemCheckbox:function(){return document.querySelector('[data-url="'.concat(this.eventUrl,'"] >.nav-tree__list__item input[type="checkbox"]'))||null}},methods:{saveEvent:function(e){this.localEvent=e,this.eventUrl=e.target.getAttribute("data-url")||null},keyDown:function(e){this.saveEvent(e),this.treeItemNextSibling&&this.treeItemNextSibling.focus()},keyUp:function(e){this.saveEvent(e),this.treeItemPreviousSibling&&this.treeItemPreviousSibling.focus()},keyRight:function(e){this.saveEvent(e),!this.isTreeItemExpanded&&this.treeItemExpandButton?this.treeItemExpandButton.click():this.isTreeItemExpanded&&this.treeItemFirstChild&&this.treeItemFirstChild.focus()},keyLeft:function(e){this.saveEvent(e),this.isTreeItemExpanded&&this.treeItemExpandButton?this.treeItemExpandButton.click():this.treeItemParent&&this.treeItemParent.focus()},keyEnter:function(e){this.saveEvent(e),this.treeItemExpandButton?this.treeItemExpandButton.click():this.treeItemCheckbox&&this.treeItemCheckbox.click()},keySpace:function(e){this.saveEvent(e),this.treeItemCheckbox&&this.treeItemCheckbox.click()},keyHome:function(e){this.saveEvent(e);var t=document.querySelector(".nav-tree > ul > li:first-child")||null;t?(t.focus(),this.$announcer.set("First tree item focused")):console.error("First focusable node not found, unable to move focus")},keyEnd:function(e){this.saveEvent(e);var t=function(e){var n=e.querySelectorAll(".nav-tree__list--contracted")||null;return n&&n.length>0?t(n[n.length-1]):e},n=document.querySelector(".nav-tree > ul > li:first-child")||null,r=t(n);r?(r.focus(),this.$announcer.set("Last tree item focused")):console.error("Last focusable node not found, unable to move focus")},keyMultiply:function(e){var t=this;return(0,o.A)((0,i.A)().m(function n(){return(0,i.A)().w(function(n){for(;;)switch(n.n){case 0:return t.saveEvent(e),n.n=1,t.$store.dispatch("documentData/expandAllTreeSiblings",t.treeItem.getAttribute("data-url"));case 1:t.$announcer.set("All sibling tree items expanded");case 2:return n.a(2)}},n)}))()},keyPageUp:function(e){this.saveEvent(e),this.treeItemFirstSibling?(this.treeItemFirstSibling.focus(),this.$announcer.set("Selected first item in group")):console.error("First sibling not found, unable to move focus")},keyPageDown:function(e){this.saveEvent(e),this.treeItemLastSibling?(this.treeItemLastSibling.focus(),this.$announcer.set("Selected last item in group")):console.error("Last sibling not found, unable to move focus")}}};const m=(0,d.A)(f,r,[],!1,null,null,null).exports},3691(e,t,n){n.d(t,{A:()=>i});n(8494),n(8080);var r=n(5820);const i=function(e){var t=(0,r.A)({locale:"EN",no:1,one:null,two:null,few:null,many:null,other:null,zero:null},e);if(!e)throw new Error("Parameters are not defined");if(!t.locale)throw new Error('Parameter "locale" is required');if(!t.one)throw new Error('Parameter "one" is required');try{return t[new Intl.PluralRules(t.locale).select(t.no)]}catch(e){return console.error(e),t.one}}},7184(e,t,n){n.r(t),n.d(t,{default:()=>h});var r=function(){var e=this,t=e._self._c;return t("section",{staticClass:"area__tool__content tree-menu",attrs:{id:"grid-sidebar__content",role:"tabpanel","aria-describedby":"grid-sidebar__header"}},[t("div",{staticClass:"tool__content scroll-y"},[t("TreeNav",{attrs:{label:"Share documents",node:e.fullTree,"node-ui-suffix":"share"}})],1),e._v(" "),t("footer",{staticClass:"tool__footer"},[t("a",{class:["button","button--ui",{"button--ui--disabled":e.isShareDisabled}],attrs:{href:!e.isShareDisabled&&e.mailtoString,target:"_blank","aria-disabled":e.isShareDisabled,role:"button",disabled:e.isShareDisabled}},[e._m(0),e._v(" "),t("span",{staticClass:"text"},[e._v("\n        Send\n      ")]),e._v(" "),e.sharesCounter>0?t("span",{staticClass:"count"},[e._v(e._s(e.sharesCounter))]):e._e()]),e._v(" "),t("SuperButton",{attrs:{id:"BtnReset","button-text":"Reset","class-regular":"button--outline",disabled:e.isResetDisabled},on:{"on-click":e.shareReset}}),e._v(" "),t("SuperButton",{directives:[{name:"tooltip",rawName:"v-tooltip",value:e.tip("Collapse tree"),expression:"tip('Collapse tree')"}],attrs:{id:"BtnCollapse","button-type":"icon","button-text":"Collapse tree","icon-regular":"icon-contract","class-regular":"button--outline",disabled:!e.ifSomeNodesExpanded},on:{"on-click":e.collapseTree}})],1)])};r._withStripped=!0;n(3772),n(868),n(7604),n(4782),n(6282),n(5963),n(9665),n(5636);var i=n(9724),o=n(8119),s=n(3691),a=n(3680),l=n(6919),u=n(369),c=n(5568);const d={name:i.A.TOOL_DOCUMENT_SHARE,components:{TreeNav:a.A,SuperButton:l.A},mixins:[u.A,c.v,o.A],computed:{fullTree:function(){return this.$store.getters["documentData/getFullJSONTree"]},nodesSelectedForShare:function(){return this.$store.getters["documentData/getFullySelectedShareUrls"]||[]},sharesNo:function(){return this.nodesSelectedForShare.length},sharesCounter:function(){return this.sharesNo>0?this.sharesNo:null},libraryName:function(){return this.$store.getters["documentData/getLibraryTitle"]},emailSubject:function(){var e=(0,s.A)({no:this.sharesNo,one:"document",other:"documents"});return"Sharing ".concat(this.sharesNo," ").concat(e," from the ").concat(this.libraryName)},emailBody:function(){var e=window.location.protocol,t=window.location.hostname,n=80===window.location.port||""===window.location.port.trim()?"":":".concat(window.location.port),r=this.nodesSelectedForShare.map(function(r){return"".concat(e,"//").concat(t).concat(n).concat(r)}).join(escape("\r\n"));return this.sharesNo>0?r:"".concat(e,"//").concat(t).concat(n)},maxMailtoLength:function(){return this.$store.getters["printShare/getMailToMaxLength"]},currentMailtoLength:function(){return this.$store.getters["printShare/getMailtoReservedCharactersNo"]+this.emailSubject.length+this.emailBody.length},mailtoString:function(){return"mailto:?subject=".concat(this.emailSubject,"&body=").concat(this.emailBody)},isShareDisabled:function(){return 0===this.nodesSelectedForShare.length||this.currentMailtoLength>this.maxMailtoLength},isResetDisabled:function(){return 0===this.nodesSelectedForShare.length},ifSomeNodesExpanded:function(){return this.$store.getters["documentData/getIfSomeNodesExpanded"]},disabledAnchorClass:function(){return!!this.isShareDisabled&&(this.$props.selected?this.$props.classSelected+"--disabled":this.$props.classRegular+"--disabled")}},created:function(){this.$store.commit("documentData/expandImmediateChildren")},methods:{sendEmail:function(){window.open(this.mailtoString,"_blank").close()},shareReset:function(){this.$store.commit("documentData/resetShareCheckbox")},collapseTree:function(){this.$store.commit("documentData/collapseTree"),this.$store.commit("documentData/expandImmediateChildren")}}};const h=(0,n(8598).A)(d,r,[function(){var e=this._self._c;return e("span",{staticClass:"icon-stack"},[e("span",{staticClass:"icon r-icon-send-email",attrs:{"aria-hidden":"true"}})])}],!1,null,null,null).exports}}]);