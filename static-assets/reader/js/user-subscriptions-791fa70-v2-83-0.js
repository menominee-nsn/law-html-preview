"use strict";(self.webpackChunkpartner_us_nsn_menominee_legislature=self.webpackChunkpartner_us_nsn_menominee_legislature||[]).push([[636],{4112(t,e,i){i.d(e,{A:()=>_});var o=function(){var t=this,e=t._self._c;return e("div",{key:"cardview-".concat(t.uid),ref:"cardview-".concat(t.uid),class:["cardview",t.customCSSClasses],attrs:{id:"cardview-".concat(t.uid),tabindex:"0"}},[t.dialog.visible?e("ConfirmationDialog",{attrs:{uid:"cardview_item-".concat(t.uid),loading:t.dialog.loading,type:t.dialog.type,"msg-question":t.dialog.msg.question,"msg-confirm":t.dialog.msg.confirm,"msg-cancel":t.dialog.msg.cancel},on:{"on-cancel":t.onDialogCancel,"on-confirm":t.onDialogConfirm}}):t._e(),t._v(" "),t.hasHeaderSlot?e("header",{staticClass:"cardview__header"},[t._t("header",null,{mode:t.mode}),t._v(" "),e("div",{staticClass:"cardview__header__main-actions"},[e("CardViewDefaultActions",{attrs:{defaultActions:t.defaultActions,mode:t.mode},on:{"edit-click":t.toggleMode,"delete-click":t.onDeleteClick}}),t._v(" "),t._t("custom-actions")],2)],2):t._e(),t._v(" "),t.hasContentSlot?e("div",{staticClass:"cardview-content"},[t._t("content",null,{mode:t.mode,onEditCancel:t.activateViewMode,saveAndClose:t.activateViewMode})],2):t._e(),t._v(" "),t.hasFooterSlot?e("footer",{staticClass:"cardview__footer"},[t._t("footer")],2):t._e(),t._v(" "),t.hasFooterSlot?e("div",{ref:"cardview-tabs-".concat(t.uid),staticClass:"cardview-options",attrs:{id:"cardview-tabs-".concat(t.uid)}},[t._t("tabs",null,{mode:t.mode})],2):t._e()],1)};o._withStripped=!0;i(9665);var n=i(4636),s=i(253),a=i(9271),l=i(8119),c=(i(3754),function(){var t=this,e=t._self._c;return e("section",{ref:t.cid,staticClass:"confirmation-dialog",style:t.positionStyle,attrs:{id:t.cid,tabindex:"0",role:"dialog","aria-labelledby":"".concat(t.cid,"-message")},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"esc",27,e.key,["Esc","Escape"])||e.ctrlKey||e.shiftKey||e.altKey||e.metaKey?null:t.onCancel.apply(null,arguments)}}},[t.loading?e("Loader",{attrs:{type:"bar",position:"absolute"}}):t._e(),t._v(" "),e("p",{ref:"".concat(t.cid,"-message"),staticClass:"confirmation-dialog__message",attrs:{id:"".concat(t.cid,"-message")}},[t._v("\n    "+t._s(t.msgQuestion||"Do you confirm this action?")+"\n  ")]),t._v(" "),e("div",{staticClass:"confirmation-dialog__buttons"},[e("SuperButton",{ref:"".concat(t.cid,"-button-cancel"),attrs:{id:"".concat(t.cid,"-button-cancel"),classRegular:"button--outline","button-text":t.msgCancel||"Cancel",disabled:t.loading},on:{"on-click":t.onCancel}}),t._v(" "),e("SuperButton",{ref:"".concat(t.cid,"-button-confirm"),attrs:{id:"".concat(t.cid,"-button-confirm"),classRegular:"button--ui","button-text":t.msgConfirm||"Confirm",loading:t.loading,disabled:t.loading},on:{"on-click":t.onConfirm}})],1)],1)});c._withStripped=!0;var r=i(9841),d=i(6919);const u={name:"ConfirmationDialog",components:{Loader:r.A,SuperButton:d.A},mixins:[l.L],props:{uid:{type:String,default:null},componentData:{type:Object,default:null},loading:{type:Boolean,default:!1},msgQuestion:{type:String,default:"Do you confirm this action?"},msgCancel:{type:String,default:"Cancel"},msgConfirm:{type:String,default:"Confirm"},type:{type:String,default:"generic"},position:{type:String,default:"absolute"}},computed:{positionStyle:function(){return"absolute"!==this.$props.position&&"position: ".concat(this.$props.position,";")}},methods:{onCancel:function(){this.$emit("on-cancel",{type:this.$props.type,componentData:this.$props.componentData})},onConfirm:function(){this.$emit("on-confirm",{type:this.$props.type,componentData:this.$props.componentData})}}};var p=i(8598);const m=(0,p.A)(u,c,[],!1,null,null,null).exports;var f=function(){var t=this,e=t._self._c;return e("div",{staticClass:"cardview-actions"},[t.defaultActions.edit?e("SuperButton",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:t.editButtonToolTip,expression:"editButtonToolTip",modifiers:{top:!0}}],attrs:{buttonType:"icon","button-text":"Edit note","icon-regular":"icon-document-edit-small","class-regular":"button--transparent","class-selected":"button--outline","class-custom":"cardview-btn-edit",selected:t.editButtonSelected},on:{"on-click":t.onEditClick}}):t._e(),t._v(" "),t.defaultActions.delete?e("SuperButton",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:t.tip("Delete"),expression:"tip('Delete')",modifiers:{top:!0}}],attrs:{buttonType:"icon","button-text":"Delete note","icon-regular":"icon-trash","class-regular":"button--transparent","class-custom":"cardview-btn-trash"},on:{"on-click":t.onDeleteClick}}):t._e()],1)};f._withStripped=!0;const g={name:"CardViewDefaultActions",components:{SuperButton:d.A},mixins:[l.A],props:{defaultActions:{type:Object},mode:{type:String,required:!0}},computed:{editButtonToolTip:function(){return this.$props.mode===n.A.EDIT_MODE?this.tip("Exit edit mode"):this.tip("Enter edit mode")},editButtonSelected:function(){return this.$props.mode===n.A.EDIT_MODE}},methods:{onEditClick:function(){this.$emit("edit-click")},onDeleteClick:function(){this.$emit("delete-click")}}};const h={name:"CardView",components:{ConfirmationDialog:m,CardViewDefaultActions:(0,p.A)(g,f,[],!1,null,null,null).exports},mixins:[a.A,l.A],props:{item:{type:Object,default:null},initialMode:{type:String,default:n.A.VIEW_MODE},customCSSClasses:{type:Array},customMessages:{type:Object},defaultActions:{type:Object,default:function(){return{edit:!1,delete:!1}}}},data:function(){return{mode:n.A.VIEW_MODE}},computed:{hasHeaderSlot:function(){return Boolean(this.$slots.header)||Boolean(this.$scopedSlots.header)},hasContentSlot:function(){return Boolean(this.$slots.content)||Boolean(this.$scopedSlots.content)},hasFooterSlot:function(){return Boolean(this.$slots.footer)||Boolean(this.$scopedSlots.footer)},hasTabsSlot:function(){return Boolean(this.$slots.tabs)||Boolean(this.$scopedSlots.tabs)},uid:function(){return"id"in this.$props.item?this.$props.item.id:"uid_"+Math.floor(1e9*Math.random()+1)}},created:function(){this.$props.initialMode&&(this.mode=this.$props.initialMode)},methods:{toggleMode:function(){this.mode===n.A.EDIT_MODE?this.mode=n.A.VIEW_MODE:this.mode===n.A.VIEW_MODE&&(this.mode=n.A.EDIT_MODE)},activateViewMode:function(){this.mode=n.A.VIEW_MODE},activateEditMode:function(){this.mode=n.A.EDIT_MODE},onDeleteClick:function(){this.dialog.type="delete",this.dialog.msg.question=this.$props.customMessages.deleteDialogMessage,this.dialog.msg.confirm=this.$props.customMessages.deleteDialogConfirm,this.dialog.msg.cancel=this.$props.customMessages.deleteDialogCancel,this.dialog.visible=!0,(0,s.A)("#cardview-".concat(this.$props.item.id," .pa-dialog"))},dialogReset:function(){this.dialog.visible=!1,this.dialog.type=null,this.dialog.value=null,this.dialog.msg.question=null,this.dialog.msg.cancel=null,this.dialog.msg.confirm=null},onDialogConfirm:function(t){"delete"===t.type&&(this.$emit("delete-confirmed"),this.dialogReset())},onDialogCancel:function(t){var e=this;"delete"===t.type&&(0,s.A)("#cardview-".concat(this.$props.item.id," .cardview-btn-trash")).finally(function(){e.dialogReset()})}}};const _=(0,p.A)(h,o,[],!1,null,null,null).exports},4636(t,e,i){i.d(e,{A:()=>o});i(5269);const o=Object.freeze({VIEW_MODE:"VIEW",EDIT_MODE:"EDIT"})},4959(t,e,i){i.r(e),i.d(e,{default:()=>p});var o=function(){var t=this,e=t._self._c;return e("section",{class:["area__tool__content","user-settings","user-settings-email"],attrs:{id:"grid-sidebar__content",role:"tabpanel",tabindex:"-1","aria-describedby":"grid-sidebar__header"}},t._l(t.userSubscriptions,function(i,o){return e("CardView",{key:"cardview_subscription_"+o,attrs:{"aria-label":"User subscription",item:i,initialMode:t.defaultViewMode,defaultActions:t.defaultActions,customMessages:t.customMessages,customCSSClasses:["notification-subscription"]},on:{"delete-confirmed":function(e){return t.deleteConfirmed(i.id)}},scopedSlots:t._u([{key:"header",fn:function(){return[e("span",{staticClass:"icon r-icon-bell-subscribed"}),t._v(" "),e("a",{attrs:{href:i.url,role:"menuitem",title:"Open link"},on:{click:function(e){return e.preventDefault(),t.loadLink(i.url)}}},[e("span",{staticClass:"tocLink__content"},[t._v("\n          "+t._s(i.url)+"\n        ")])])]},proxy:!0}],null,!0)})}),1)};o._withStripped=!0;i(5232),i(9665);var n=i(9724),s=i(4636),a=i(253),l=i(1341),c=i(9271),r=i(8119),d=i(4112);const u={name:n.A.TOOL_USER_SUBSCRIPTIONS,components:{CardView:d.A},mixins:[c.A,r.A],data:function(){return{customMessages:{deleteDialogMessage:"Are you certain that you want to unsubscribe?",deleteDialogConfirm:"Unsubscribe"}}},computed:{userSubscriptions:function(){return this.$store.getters["subscriptions/getUserSubscriptions"]},defaultActions:function(){return{delete:!0,edit:!1}},defaultViewMode:function(){return s.A.VIEW_MODE}},methods:{deleteConfirmed:function(t){var e=this;return new Promise(function(i,o){e.$store.dispatch("subscriptions/deleteSubscriptionById",t).then(function(){(0,a.A)("#grid-sidebar__content")}).catch(function(t){e.dialog.visible=!1,e.actions.trash=!1,o(t)}).finally(function(){e.dialog.loading=!1})})},loadLink:function(t){var e=this,i=document.getElementById("main-content"),o=document.getElementById(t);t!==e.$route.path&&("mobile"!==e.$mq&&"phablet"!==e.$mq||e.$store.commit("structure/setMainMenuOpen",!1),o?(e.$route.fullPath!==t&&e.$router.push(t),(0,l.A)(t||this.$store.getters["document/getCurrentDocument"].url)):e.$store.dispatch("app/loadDocument",{url:t,skipScroll:!0}).then(function(){i&&i.focus()}))}}};const p=(0,i(8598).A)(u,o,[],!1,null,null,null).exports},9271(t,e,i){i.d(e,{A:()=>o});const o={data:function(){return{dialog:{visible:!1,loading:!1,value:null,type:null,msg:{question:null,cancel:null,confirm:null}}}},methods:{dialogReset:function(){this.dialog.visible=!1,this.dialog.value=null,this.dialog.type=null,this.dialog.msg.question=null,this.dialog.msg.cancel=null,this.dialog.msg.confirm=null}}}}}]);